{"version":3,"file":"index.js","sources":["../../src/base/LoaderDataFormat.ts","../../src/base/Loader.ts","../../src/base/_IndexedDB.ts","../../src/FSType.ts","../../src/HttpFS.ts","../../../event/dist/esm/index.js","../../../polyfill/dist/esm/index.js","../../src/IndexedDBFS.ts","../../src/PathUtils.ts","../../../task/dist/esm/index.js","../../src/ReadFS.ts","../../src/ReadWriteFS.ts"],"sourcesContent":["\r\n/**\r\n * 加载数据类型\r\n */\r\nexport enum LoaderDataFormat\r\n{\r\n    /**\r\n     * 以原始二进制数据形式接收下载的数据。\r\n     */\r\n    BINARY = \"binary\",\r\n    /**\r\n     * 以文本形式接收已下载的数据。\r\n     */\r\n    TEXT = \"text\",\r\n    /**\r\n     * 图片数据\r\n     */\r\n    IMAGE = \"image\",\r\n}\r\n","import { LoaderDataFormat } from \"./LoaderDataFormat\";\r\n\r\n/**\r\n * 加载类\r\n */\r\nexport class Loader\r\n{\r\n\r\n    /**\r\n     * 加载文本\r\n     * @param url   路径\r\n     */\r\n    loadText(url: string, onCompleted?: (content: string) => void, onRequestProgress?: () => void, onError?: (e: Error) => void)\r\n    {\r\n        xmlHttpRequestLoad({ url: url, dataFormat: LoaderDataFormat.TEXT, onCompleted: <any>onCompleted, onProgress: onRequestProgress, onError: onError });\r\n    }\r\n\r\n    /**\r\n     * 加载二进制\r\n     * @param url   路径\r\n     */\r\n    loadBinary(url: string, onCompleted?: (content: ArrayBuffer) => void, onRequestProgress?: () => void, onError?: (e: Error) => void)\r\n    {\r\n        xmlHttpRequestLoad({ url: url, dataFormat: LoaderDataFormat.BINARY, onCompleted: <any>onCompleted, onProgress: onRequestProgress, onError: onError });\r\n    }\r\n\r\n    /**\r\n     * 加载图片\r\n     * @param url   路径\r\n     */\r\n    loadImage(url: string, onCompleted?: (content: HTMLImageElement) => void, onRequestProgress?: () => void, onError?: (e: Error) => void)\r\n    {\r\n        var image = new Image();\r\n        image.crossOrigin = \"Anonymous\";\r\n        image.onload = (event) =>\r\n        {\r\n            onCompleted && onCompleted(image);\r\n        }\r\n        image.onerror = (event) =>\r\n        {\r\n            console.error(\"Error while trying to load texture: \" + url);\r\n            //\r\n            image.src = \"data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQubmV0IDQuMC41AP/bAEMABAIDAwMCBAMDAwQEBAQFCQYFBQUFCwgIBgkNCw0NDQsMDA4QFBEODxMPDAwSGBITFRYXFxcOERkbGRYaFBYXFv/bAEMBBAQEBQUFCgYGChYPDA8WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFv/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APH6KKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76P//Z\";\r\n            //\r\n            var err = new Error(url + \" 加载失败！\");\r\n            onError && onError(err);\r\n        }\r\n        image.src = url;\r\n    }\r\n}\r\n\r\n/**\r\n * 加载类\r\n */\r\nexport const loader = new Loader();\r\n\r\ninterface LoadItem\r\n{\r\n    url: string;\r\n    dataFormat: LoaderDataFormat;\r\n    onCompleted?: (content: string | ArrayBuffer) => void;\r\n    onProgress?: (loaded: number, total: number) => void;\r\n    onError?: (ev: Error) => void;\r\n}\r\n\r\n/**\r\n * 使用XMLHttpRequest加载\r\n * @param url           加载路径\r\n * @param dataFormat    数据类型\r\n */\r\nfunction xmlHttpRequestLoad(loadItem: LoadItem)\r\n{\r\n    var request = new XMLHttpRequest();\r\n    request.open('Get', loadItem.url, true);\r\n    request.setRequestHeader(\"Access-Control-Allow-Origin\", \"*\");\r\n    request.responseType = loadItem.dataFormat == LoaderDataFormat.BINARY ? \"arraybuffer\" : \"\";\r\n    request.onreadystatechange = onRequestReadystatechange(request, loadItem);\r\n    request.onprogress = onRequestProgress(request, loadItem);\r\n    request.send();\r\n}\r\n\r\n/**\r\n * 请求进度回调\r\n */\r\nfunction onRequestProgress(request: XMLHttpRequest, loadItem: LoadItem)\r\n{\r\n    return (event: ProgressEvent) =>\r\n    {\r\n        loadItem.onProgress && loadItem.onProgress(event.loaded, event.total);\r\n    }\r\n}\r\n\r\n/**\r\n * 请求状态变化回调\r\n */\r\nfunction onRequestReadystatechange(request: XMLHttpRequest, loadItem: LoadItem)\r\n{\r\n    return (ev) =>\r\n    {\r\n        if (request.readyState == 4)\r\n        {// 4 = \"loaded\"\r\n\r\n            request.onreadystatechange = <any>null;\r\n\r\n            if (request.status >= 200 && request.status < 300)\r\n            {\r\n                var content = loadItem.dataFormat == LoaderDataFormat.TEXT ? request.responseText : request.response;\r\n                loadItem.onCompleted && loadItem.onCompleted(content);\r\n            } else\r\n            {\r\n                var err = new Error(loadItem.url + \" 加载失败！\");\r\n                loadItem.onError && loadItem.onError(err);\r\n                loadItem.onCompleted && loadItem.onCompleted(null);\r\n            }\r\n        }\r\n    }\r\n}\r\n","\r\nvar databases: { [name: string]: IDBDatabase } = {};\r\n\r\n/**\r\n * \r\n */\r\nexport class _IndexedDB\r\n{\r\n    /**\r\n     * 数据库状态\r\n     */\r\n    private _dbStatus: {\r\n        [dbname: string]: {\r\n            /**\r\n             * 状态\r\n             */\r\n            status: DBStatus,\r\n            /**\r\n             * 开启或者升级成功回调\r\n             */\r\n            onsuccessCallbacks: ((err: Error, database: IDBDatabase) => void)[],\r\n            /**\r\n             * 升级回调\r\n             */\r\n            onupgradeneededCallbacks: ((newdatabase: IDBDatabase) => void)[],\r\n        }\r\n    } = {};\r\n\r\n    /**\r\n     * 是否支持 indexedDB \r\n     */\r\n    support()\r\n    {\r\n        if (typeof indexedDB == \"undefined\")\r\n        {\r\n            indexedDB = window.indexedDB || window[\"mozIndexedDB\"] || window[\"webkitIndexedDB\"] || window[\"msIndexedDB\"];\r\n\r\n            if (indexedDB == undefined)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 获取数据库，如果不存在则新建数据库\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param callback 完成回调\r\n     */\r\n    getDatabase(dbname: string, callback: (err: any, database: IDBDatabase) => void)\r\n    {\r\n        if (databases[dbname])\r\n        {\r\n            callback(null, databases[dbname]);\r\n            return;\r\n        }\r\n\r\n        this._open(dbname, callback);\r\n    }\r\n\r\n    /**\r\n     * 打开或者升级数据库\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param callback 完成回调\r\n     * @param upgrade 是否升级数据库\r\n     * @param onupgrade 升级回调\r\n     */\r\n    private _open(dbname: string, callback: (err: any, database: IDBDatabase) => void, upgrade = false, onupgrade?: (newdatabase: IDBDatabase) => void)\r\n    {\r\n        if (!this._dbStatus[dbname]) this._dbStatus[dbname] = { status: DBStatus.unOpen, onsuccessCallbacks: [], onupgradeneededCallbacks: [] };\r\n\r\n        this._dbStatus[dbname].onsuccessCallbacks.push(callback);\r\n        if (upgrade)\r\n        {\r\n            console.assert(!!onupgrade);\r\n            this._dbStatus[dbname].onupgradeneededCallbacks.push(onupgrade);\r\n        }\r\n        if (this._dbStatus[dbname].status == DBStatus.opening || this._dbStatus[dbname].status == DBStatus.upgrading) return;\r\n\r\n        var request: IDBOpenDBRequest;\r\n        if (!upgrade)\r\n        {\r\n            request = indexedDB.open(dbname);\r\n            this._dbStatus[dbname].status = DBStatus.opening;\r\n        } else\r\n        {\r\n            var oldDatabase = databases[dbname];\r\n            oldDatabase.close();\r\n            delete databases[dbname];\r\n\r\n            request = indexedDB.open(dbname, oldDatabase.version + 1);\r\n            this._dbStatus[dbname].status = DBStatus.upgrading;\r\n        }\r\n\r\n        request.onupgradeneeded = (event) =>\r\n        {\r\n            var newdatabase: IDBDatabase = event.target[\"result\"];\r\n            request.onupgradeneeded = null;\r\n\r\n            var callbacks = this._dbStatus[dbname].onupgradeneededCallbacks.concat();\r\n            this._dbStatus[dbname].onupgradeneededCallbacks.length = 0;\r\n            callbacks.forEach(element =>\r\n            {\r\n                element(newdatabase);\r\n            });\r\n        }\r\n        request.onsuccess = (event) =>\r\n        {\r\n            databases[dbname] = event.target[\"result\"];\r\n            request.onsuccess = null;\r\n\r\n            this._dbStatus[dbname].status = DBStatus.opened;\r\n\r\n            var callbacks = this._dbStatus[dbname].onsuccessCallbacks.concat();\r\n            this._dbStatus[dbname].onsuccessCallbacks.length = 0;\r\n            callbacks.forEach(element =>\r\n            {\r\n                element(null, databases[dbname]);\r\n            });\r\n        };\r\n        request.onerror = (event) =>\r\n        {\r\n            request.onerror = null;\r\n\r\n            this._dbStatus[dbname].status = DBStatus.error;\r\n\r\n            var callbacks = this._dbStatus[dbname].onsuccessCallbacks.concat();\r\n            this._dbStatus[dbname].onsuccessCallbacks.length = 0;\r\n            callbacks.forEach(element =>\r\n            {\r\n                element(<any>event, <any>null);\r\n            });\r\n        };\r\n    }\r\n\r\n    /**\r\n     * 删除数据库\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param callback 完成回调\r\n     */\r\n    deleteDatabase(dbname: string, callback?: (err: any) => void)\r\n    {\r\n        var request = indexedDB.deleteDatabase(dbname);\r\n        request.onsuccess = function (event)\r\n        {\r\n            delete databases[dbname];\r\n            callback && callback(null);\r\n            request.onsuccess = null;\r\n        };\r\n        request.onerror = function (event)\r\n        {\r\n            callback && callback(event);\r\n            request.onerror = null;\r\n        };\r\n    }\r\n\r\n    /**\r\n     * 是否存在指定的对象存储\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    hasObjectStore(dbname: string, objectStroreName: string, callback: (has: boolean) => void)\r\n    {\r\n        this.getDatabase(dbname, (err, database) =>\r\n        {\r\n            callback(database.objectStoreNames.contains(objectStroreName));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取对象存储名称列表\r\n     * \r\n     * @param dbname 数据库\r\n     * @param callback 完成回调\r\n     */\r\n    getObjectStoreNames(dbname: string, callback: (err: Error | null, objectStoreNames: string[]) => void)\r\n    {\r\n        this.getDatabase(dbname, (err, database) =>\r\n        {\r\n            var objectStoreNames: string[] = [];\r\n            for (let i = 0; i < database.objectStoreNames.length; i++)\r\n            {\r\n                objectStoreNames.push(<string>database.objectStoreNames.item(i));\r\n            }\r\n            callback(null, objectStoreNames)\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 创建对象存储\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    createObjectStore(dbname: string, objectStroreName: string, callback?: (err: any) => void)\r\n    {\r\n        this.getDatabase(dbname, (err, database) =>\r\n        {\r\n            if (database.objectStoreNames.contains(objectStroreName))\r\n            {\r\n                callback && callback(null);\r\n                return;\r\n            }\r\n\r\n            this._open(dbname, callback, true, (newdatabase: IDBDatabase) =>\r\n            {\r\n                newdatabase.createObjectStore(objectStroreName);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 删除对象存储\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    deleteObjectStore(dbname: string, objectStroreName: string, callback?: (err: any) => void)\r\n    {\r\n        this.getDatabase(dbname, (err, database) =>\r\n        {\r\n            if (!database.objectStoreNames.contains(objectStroreName))\r\n            {\r\n                callback && callback(null);\r\n                return;\r\n            }\r\n            this._open(dbname, callback, true, (newdatabase: IDBDatabase) =>\r\n            {\r\n                newdatabase.deleteObjectStore(objectStroreName);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取对象存储中所有键列表\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    getAllKeys(dbname: string, objectStroreName: string, callback?: (err: Error, keys: string[]) => void)\r\n    {\r\n        this.getDatabase(dbname, (err, database) =>\r\n        {\r\n            try\r\n            {\r\n                var transaction = database.transaction([objectStroreName], 'readwrite');\r\n                var objectStore = transaction.objectStore(objectStroreName);\r\n                var request = objectStore.getAllKeys();\r\n                request.onsuccess = function (event)\r\n                {\r\n                    callback && callback(null, event.target[\"result\"]);\r\n                    request.onsuccess = null;\r\n                };\r\n            } catch (error)\r\n            {\r\n                callback && callback(error, null);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取对象存储中指定键对应的数据\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param key 键\r\n     * @param callback 完成回调\r\n     */\r\n    objectStoreGet(dbname: string, objectStroreName: string, key: string | number, callback?: (err: Error, data: any) => void)\r\n    {\r\n        this.getDatabase(dbname, (err, database) =>\r\n        {\r\n            var transaction = database.transaction([objectStroreName], 'readwrite');\r\n            var objectStore = transaction.objectStore(objectStroreName);\r\n            var request = objectStore.get(key);\r\n            request.onsuccess = function (event)\r\n            {\r\n                var result = event.target[\"result\"];\r\n                callback && callback(result != null ? null : new Error(`没有找到资源 ${key}`), result);\r\n                request.onsuccess = null;\r\n            };\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 设置对象存储的键与值，如果不存在指定键则新增否则修改。\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param key 键\r\n     * @param data 数据\r\n     * @param callback 完成回调\r\n     */\r\n    objectStorePut(dbname: string, objectStroreName: string, key: string | number, data: any, callback?: (err: Error) => void)\r\n    {\r\n        this.getDatabase(dbname, (err, database) =>\r\n        {\r\n            try\r\n            {\r\n                var transaction = database.transaction([objectStroreName], 'readwrite');\r\n                var objectStore = transaction.objectStore(objectStroreName);\r\n                var request = objectStore.put(data, key);\r\n                request.onsuccess = function (event)\r\n                {\r\n                    callback && callback(null);\r\n                    request.onsuccess = null;\r\n                };\r\n            } catch (error)\r\n            {\r\n                callback && callback(error);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 删除对象存储中指定键以及对于数据\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param key 键\r\n     * @param callback 完成回调\r\n     */\r\n    objectStoreDelete(dbname: string, objectStroreName: string, key: string | number, callback?: (err?: Error) => void)\r\n    {\r\n        this.getDatabase(dbname, (err, database) =>\r\n        {\r\n            try\r\n            {\r\n                var transaction = database.transaction([objectStroreName], 'readwrite');\r\n                var objectStore = transaction.objectStore(objectStroreName);\r\n                var request = objectStore.delete(key);\r\n                request.onsuccess = function (event)\r\n                {\r\n                    callback && callback();\r\n                    request.onsuccess = null;\r\n                };\r\n            } catch (error)\r\n            {\r\n                callback && callback(error);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 清空对象存储中数据\r\n     * \r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    objectStoreClear(dbname: string, objectStroreName: string, callback?: (err?: Error) => void)\r\n    {\r\n        this.getDatabase(dbname, (err, database) =>\r\n        {\r\n            try\r\n            {\r\n                var transaction = database.transaction([objectStroreName], 'readwrite');\r\n                var objectStore = transaction.objectStore(objectStroreName);\r\n                var request = objectStore.clear();\r\n                request.onsuccess = function (event)\r\n                {\r\n                    callback && callback();\r\n                    request.onsuccess = null;\r\n                };\r\n            } catch (error)\r\n            {\r\n                callback && callback(error);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport const _indexedDB = new _IndexedDB();\r\n\r\n/**\r\n * 数据库状态\r\n */\r\nenum DBStatus\r\n{\r\n    /**\r\n     * 未开启\r\n     */\r\n    unOpen,\r\n\r\n    /**\r\n     * 正在开启中\r\n     */\r\n    opening,\r\n\r\n    /**\r\n     * 已开启\r\n     */\r\n    opened,\r\n\r\n    /**\r\n     * 正在升级中\r\n     */\r\n    upgrading,\r\n\r\n    /**\r\n     * 开启或者升级失败\r\n     */\r\n    error,\r\n}\r\n","\r\n/**\r\n * 文件系统类型\r\n */\r\nexport enum FSType\r\n{\r\n    http = \"http\",\r\n    native = \"native\",\r\n    indexedDB = \"indexedDB\"\r\n}\r\n","import { loader } from \"./base/Loader\";\r\nimport { FSType } from \"./FSType\";\r\nimport { IReadFS } from \"./IReadFS\";\r\n\r\n/**\r\n * Http可读文件系统\r\n */\r\nexport class HttpFS implements IReadFS\r\n{\r\n    /**\r\n     * 根路径\r\n     */\r\n    rootPath = \"\";\r\n\r\n    type = FSType.http;\r\n\r\n    constructor(rootPath = \"\")\r\n    {\r\n        this.rootPath = rootPath;\r\n        if (this.rootPath == \"\")\r\n        {\r\n            if (typeof document != \"undefined\")\r\n            {\r\n                var url = document.URL.split(\"?\").shift();\r\n                this.rootPath = url.substring(0, url.lastIndexOf(\"/\") + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readArrayBuffer(path: string, callback: (err: Error, data: ArrayBuffer) => void)\r\n    {\r\n        // rootPath\r\n        loader.loadBinary(this.getAbsolutePath(path),\r\n            (content) =>\r\n            {\r\n                callback(null, content);\r\n            },\r\n            null,\r\n            (e) =>\r\n            {\r\n                callback(e, null);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * 读取文件为字符串\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readString(path: string, callback: (err: Error, data: string) => void)\r\n    {\r\n        loader.loadText(this.getAbsolutePath(path),\r\n            (content) =>\r\n            {\r\n                callback(null, content);\r\n            },\r\n            null,\r\n            (e) =>\r\n            {\r\n                callback(e, null);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * 读取文件为Object\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readObject(path: string, callback: (err: Error, data: Object) => void)\r\n    {\r\n        loader.loadText(this.getAbsolutePath(path),\r\n            (content) =>\r\n            {\r\n                var obj = JSON.parse(content);\r\n                callback(null, obj);\r\n            },\r\n            null,\r\n            (e) =>\r\n            {\r\n                callback(e, null);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * 加载图片\r\n     * @param path 图片路径\r\n     * @param callback 加载完成回调\r\n     */\r\n    readImage(path: string, callback: (err: Error, img: HTMLImageElement) => void)\r\n    {\r\n        var img = new Image();\r\n        img.onload = () =>\r\n        {\r\n            callback(null, img);\r\n        };\r\n        img.onerror = (evt) =>\r\n        {\r\n            callback(new Error(`加载图片${path}失败`), null);\r\n        }\r\n        img.src = this.getAbsolutePath(path);\r\n    }\r\n\r\n    /**\r\n     * 获取文件绝对路径\r\n     * @param path （相对）路径\r\n     * @param callback 回调函数\r\n     */\r\n    getAbsolutePath(path: string)\r\n    {\r\n        return this.rootPath + path;\r\n    }\r\n}\r\n\r\n/**\r\n * 默认基础文件系统\r\n */\r\n export const basefs: IReadFS = new HttpFS();","/*!\n * @feng3d/event - v0.3.3\n *\n * @feng3d/event is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/**\r\n * 事件属性名称常量\r\n */\r\nvar EVENT_KEY = '__event__';\r\n/**\r\n * 事件派发器代理的对象\r\n */\r\nvar EVENT_EMITTER_TARGET = '__event_emitter_target__';\r\n/**\r\n * 事件冒泡函数名称常量，冒泡的对象需要定义该名称的函数。\r\n *\r\n * function __event_bubble_function__(): any[];\r\n *\r\n * var bubbleObject: { __event_bubble_function__: () => any[] }\r\n */\r\nvar EVENT_BUBBLE_FUNCTION = '__event_bubble_function__';\r\n/**\r\n * 事件派发器\r\n */\r\nvar EventEmitter = function EventEmitter(target) {\r\n    if (target === undefined) {\r\n        target = this;\r\n    }\r\n    console.assert(!EventEmitter.targetMap.has(target), (\"同一个 \" + target + \" 对象无法对应两个 EventEmitter！\"));\r\n    EventEmitter.targetMap.set(target, this);\r\n    this[EVENT_EMITTER_TARGET] = target;\r\n};\r\n/**\r\n * 获取事件派发器\r\n * @param target\r\n */\r\nEventEmitter.getEventEmitter = function getEventEmitter (target) {\r\n    console.assert(target !== undefined && target !== null, \"被监听对象无法为undefined或者null！\");\r\n    if (target instanceof EventEmitter) {\r\n        return target;\r\n    }\r\n    return this.targetMap.get(target);\r\n};\r\n/**\r\n * 获取事件派发器，当没有找到对应派发器时，返回新建的事件派发器。\r\n * @param target\r\n */\r\nEventEmitter.getOrCreateEventEmitter = function getOrCreateEventEmitter (target) {\r\n    var eventEmitter = this.getEventEmitter(target);\r\n    if (!eventEmitter) {\r\n        eventEmitter = new EventEmitter(target);\r\n    }\r\n    return eventEmitter;\r\n};\r\n/**\r\n * 返回监听的事件类型列表。\r\n */\r\nEventEmitter.prototype.eventNames = function eventNames () {\r\n    var names = Object.keys(this[EVENT_KEY]);\r\n    return names;\r\n};\r\n/**\r\n * 返回指定事件类型的监听数量。\r\n *\r\n * @param type 事件的类型。\r\n */\r\nEventEmitter.prototype.listenerCount = function listenerCount (type) {\r\n    var _a, _b;\r\n    return ((_b = (_a = this[EVENT_KEY]) === null || _a === void 0 ? void 0 : _a[type]) === null || _b === void 0 ? void 0 : _b.length) || 0;\r\n};\r\n/**\r\n * 监听一次事件后将会被移除\r\n * @param type\t\t\t\t\t\t事件的类型。\r\n * @param listener\t\t\t\t\t处理事件的侦听器函数。\r\n * @param thisObject            listener函数作用域\r\n * @param priority\t\t\t\t\t事件侦听器的优先级。数字越大，优先级越高。默认优先级为 0。\r\n */\r\nEventEmitter.prototype.once = function once (type, listener, thisObject, priority) {\n        if ( priority === void 0 ) priority = 0;\n\r\n    this.on(type, listener, thisObject, priority, true);\r\n    return this;\r\n};\r\n/**\r\n * 派发事件\r\n *\r\n * 当事件重复流向一个对象时将不会被处理。\r\n *\r\n * @param e   事件对象\r\n * @returns 返回事件是否被该对象处理\r\n */\r\nEventEmitter.prototype.emitEvent = function emitEvent (e) {\r\n    // 是否为初次派发\r\n    var isEventStart = !e.target;\r\n    if (isEventStart) {\r\n        // 初始化事件\r\n        e.target = e.target || null;\r\n        e.currentTarget = e.currentTarget || null;\r\n        e.isStop = e.isStop || false;\r\n        e.isStopBubbles = e.isStopBubbles || false;\r\n        e.targets = e.targets || [];\r\n        e.handles = e.handles || [];\r\n        e.targetsIndex = e.targetsIndex || 0;\r\n        e.targetsBubblesIndex = e.targetsBubblesIndex || 0;\r\n    }\r\n    var targets = e.targets;\r\n    if (targets.indexOf(this[EVENT_EMITTER_TARGET]) !== -1) {\r\n        return false;\r\n    }\r\n    targets.push(this[EVENT_EMITTER_TARGET]);\r\n    //\r\n    var index = e.targetsIndex;\r\n    while (targets.length > index) {\r\n        var n = targets.length;\r\n        // 派发事件\r\n        while (e.targetsIndex < n) {\r\n            var eventEmitter = EventEmitter.getOrCreateEventEmitter(targets[e.targetsIndex++]);\r\n            eventEmitter.handleEvent(e); // 传递到其它对象中去，将会增加 targets 的长度。\r\n        }\r\n        index = e.targetsIndex;\r\n        if (isEventStart) // 统一在派发事件入口处理冒泡\r\n         {\r\n            // 处理冒泡\r\n            if (e.bubbles && !e.isStopBubbles) {\r\n                while (e.targetsBubblesIndex < n) {\r\n                    var eventEmitter$1 = EventEmitter.getOrCreateEventEmitter(targets[e.targetsBubblesIndex++]);\r\n                    eventEmitter$1.handelEventBubbles(e); // 冒泡到其它对象中去，将会增加 targets 的长度。\r\n                }\r\n                index = e.targetsBubblesIndex;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n};\r\n/**\r\n * 将事件调度到事件流中. 事件目标是对其调用 emitEvent() 方法的 Event 对象。\r\n * @param type                  事件的类型。类型区分大小写。\r\n * @param data                  事件携带的自定义数据。\r\n * @param bubbles               表示事件是否为冒泡事件。如果事件可以冒泡，则此值为 true；否则为 false。\r\n */\r\nEventEmitter.prototype.emit = function emit (type, data, bubbles) {\n        if ( bubbles === void 0 ) bubbles = false;\n\r\n    var e = { type: type, data: data, bubbles: bubbles, target: null, currentTarget: null, isStop: false, isStopBubbles: false, targets: [], handles: [] };\r\n    return this.emitEvent(e);\r\n};\r\n/**\r\n * 检查 Event 对象是否为特定事件类型注册了任何侦听器.\r\n *\r\n * @param type\t\t事件的类型。\r\n * @return \t\t\t如果指定类型的侦听器已注册，则值为 true；否则，值为 false。\r\n */\r\nEventEmitter.prototype.has = function has (type) {\r\n    return this.listenerCount(type) > 0;\r\n};\r\n/**\r\n * 为监听对象新增指定类型的事件监听。\r\n *\r\n * @param type\t\t\t\t\t\t事件的类型。\r\n * @param listener\t\t\t\t\t处理事件的监听器函数。\r\n * @param thisObject            监听器的上下文。可选。\r\n * @param priority\t\t\t\t\t事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n * @param once                  值为true时在监听一次事件后该监听器将被移除。默认为false。\r\n */\r\nEventEmitter.prototype.on = function on (type, listener, thisObject, priority, once) {\n        if ( priority === void 0 ) priority = 0;\n        if ( once === void 0 ) once = false;\n\r\n    if (listener === null)\r\n        { return this; }\r\n    var objectListener = this[EVENT_KEY];\r\n    if (!objectListener) {\r\n        objectListener = { __anyEventType__: [] };\r\n        this[EVENT_KEY] = objectListener;\r\n    }\r\n    thisObject = thisObject || this;\r\n    var listeners = objectListener[type] = objectListener[type] || [];\r\n    var i = 0;\r\n    for (i = 0; i < listeners.length; i++) {\r\n        var element = listeners[i];\r\n        if (element.listener === listener && element.thisObject === thisObject) {\r\n            listeners.splice(i, 1);\r\n            break;\r\n        }\r\n    }\r\n    for (i = 0; i < listeners.length; i++) {\r\n        var element$1 = listeners[i];\r\n        if (priority > element$1.priority) {\r\n            break;\r\n        }\r\n    }\r\n    listeners.splice(i, 0, { listener: listener, thisObject: thisObject, priority: priority, once: once });\r\n    return this;\r\n};\r\n/**\r\n * 移除监听\r\n *\r\n * @param type\t\t\t\t\t\t事件的类型。可选。该值为空时所有被监听对象上的监听均将被移除。\r\n * @param listener\t\t\t\t\t要删除的监听器对象。可选。该值为空时所有指定类型的监听均将被移除。\r\n * @param thisObject            监听器的上下文。可选。\r\n */\r\nEventEmitter.prototype.off = function off (type, listener, thisObject) {\r\n    if (!type) {\r\n        this[EVENT_KEY] = undefined;\r\n        return;\r\n    }\r\n    var objectListener = this[EVENT_KEY];\r\n    if (!objectListener)\r\n        { return; }\r\n    if (!listener) {\r\n        delete objectListener[type];\r\n        return;\r\n    }\r\n    thisObject = thisObject || this;\r\n    var listeners = objectListener[type];\r\n    if (listeners) {\r\n        for (var i = listeners.length - 1; i >= 0; i--) {\r\n            var element = listeners[i];\r\n            if (element.listener === listener && element.thisObject === thisObject) {\r\n                listeners.splice(i, 1);\r\n            }\r\n        }\r\n        if (listeners.length === 0) {\r\n            delete objectListener[type];\r\n        }\r\n    }\r\n    return this;\r\n};\r\n/**\r\n * 移除所有监听\r\n *\r\n * @param type\t\t\t\t\t\t事件的类型。可选。该值为空时所有被监听对象上的监听均将被移除。\r\n */\r\nEventEmitter.prototype.offAll = function offAll (type) {\r\n    this.off(type);\r\n    return this;\r\n};\r\n/**\r\n * 监听对象的任意事件，该对象的任意事件都将触发该监听器的调用。\r\n *\r\n * @param listener              处理事件的监听器函数。\r\n * @param thisObject            监听器的上下文。可选。\r\n * @param priority              事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n * @param once                  值为true时在监听一次事件后该监听器将被移除。默认为false。\r\n */\r\nEventEmitter.prototype.onAny = function onAny (listener, thisObject, priority, once) {\n        if ( priority === void 0 ) priority = 0;\n        if ( once === void 0 ) once = false;\n\r\n    var objectListener = this[EVENT_KEY];\r\n    if (!objectListener) {\r\n        objectListener = { __anyEventType__: [] };\r\n        this[EVENT_KEY] = objectListener;\r\n    }\r\n    var listeners = objectListener.__anyEventType__;\r\n    var i = 0;\r\n    for (i = 0; i < listeners.length; i++) {\r\n        var element = listeners[i];\r\n        if (element.listener === listener && element.thisObject === thisObject) {\r\n            listeners.splice(i, 1);\r\n            break;\r\n        }\r\n    }\r\n    for (i = 0; i < listeners.length; i++) {\r\n        var element$1 = listeners[i];\r\n        if (priority > element$1.priority) {\r\n            break;\r\n        }\r\n    }\r\n    listeners.splice(i, 0, { listener: listener, thisObject: thisObject, priority: priority, once: once });\r\n    return this;\r\n};\r\n/**\r\n * 移除监听对象的任意事件。\r\n *\r\n * @param listener              处理事件的监听器函数。\r\n * @param thisObject            监听器的上下文。可选。\r\n */\r\nEventEmitter.prototype.offAny = function offAny (listener, thisObject) {\r\n    var objectListener = this[EVENT_KEY];\r\n    if (!listener) {\r\n        if (objectListener) {\r\n            objectListener.__anyEventType__.length = 0;\r\n        }\r\n        return;\r\n    }\r\n    if (objectListener) {\r\n        var listeners = objectListener.__anyEventType__;\r\n        for (var i = listeners.length - 1; i >= 0; i--) {\r\n            var element = listeners[i];\r\n            if (element.listener === listener && element.thisObject === thisObject) {\r\n                listeners.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    return this;\r\n};\r\n/**\r\n * 处理事件\r\n * @param e 事件\r\n */\r\nEventEmitter.prototype.handleEvent = function handleEvent (e) {\r\n    // 设置目标\r\n    e.target = e.target || this[EVENT_EMITTER_TARGET];\r\n    e.currentTarget = this[EVENT_EMITTER_TARGET];\r\n    //\r\n    var objectListener = this[EVENT_KEY];\r\n    if (!objectListener)\r\n        { return; }\r\n    var listeners = objectListener[e.type];\r\n    if (listeners) {\r\n        // 遍历调用事件回调函数\r\n        var listeners0 = listeners.concat();\r\n        var i = 0;\r\n        for (i = 0; i < listeners0.length && !e.isStop; i++) {\r\n            listeners0[i].listener.call(listeners0[i].thisObject, e); // 此处可能会删除当前事件，所以上面必须拷贝\r\n            e.handles.push(listeners0[i]);\r\n        }\r\n        for (i = listeners.length - 1; i >= 0; i--) {\r\n            if (listeners[i].once) {\r\n                listeners.splice(i, 1);\r\n            }\r\n        }\r\n        if (listeners.length === 0) {\r\n            delete objectListener[e.type];\r\n        }\r\n    }\r\n    // Any_EVENT_Type\r\n    listeners = objectListener.__anyEventType__;\r\n    if (listeners) {\r\n        // 遍历调用事件回调函数\r\n        var listeners0$1 = listeners.concat();\r\n        for (var i$1 = 0; i$1 < listeners0$1.length && !e.isStop; i$1++) {\r\n            listeners0$1[i$1].listener.call(listeners0$1[i$1].thisObject, e); // 此处可能会删除当前事件，所以上面必须拷贝\r\n        }\r\n        for (var i$2 = listeners.length - 1; i$2 >= 0; i$2--) {\r\n            if (listeners[i$2].once) {\r\n                listeners.splice(i$2, 1);\r\n            }\r\n        }\r\n    }\r\n};\r\n/**\r\n * 处理事件冒泡\r\n * @param e 事件\r\n */\r\nEventEmitter.prototype.handelEventBubbles = function handelEventBubbles (e) {\r\n    var _a;\r\n    if (typeof ((_a = this[EVENT_EMITTER_TARGET]) === null || _a === void 0 ? void 0 : _a[EVENT_BUBBLE_FUNCTION]) === 'function') {\r\n        var bubbleTargets = this[EVENT_EMITTER_TARGET][EVENT_BUBBLE_FUNCTION]();\r\n        bubbleTargets.forEach(function (v) {\r\n            if (v !== undefined && e.targets.indexOf(v) === -1) {\r\n                e.targets.push(v);\r\n            }\r\n        });\r\n    }\r\n};\r\nEventEmitter.targetMap = new Map();\n\n/**\r\n * 可针对（除undefined、null、Symbol外）的任意对象（0, 1, true, false, \"1\", {}）派发事件\r\n */\r\nvar FEvent = function FEvent () {};\n\nFEvent.prototype.eventNames = function eventNames (obj) {\r\n    var _a;\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    var names = ((_a = EventEmitter.getEventEmitter(obj)) === null || _a === void 0 ? void 0 : _a.eventNames()) || [];\r\n    return names;\r\n};\r\n/**\r\n * Return the number of listeners listening to a given event.\r\n */\r\nFEvent.prototype.listenerCount = function listenerCount (obj, type) {\r\n    var _a;\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    var count = ((_a = EventEmitter.getEventEmitter(obj)) === null || _a === void 0 ? void 0 : _a.listenerCount(type)) || 0;\r\n    return count;\r\n};\r\n/**\r\n * 监听一次事件后将会被移除\r\n * @param type\t\t\t\t\t\t事件的类型。\r\n * @param listener\t\t\t\t\t处理事件的监听器函数。\r\n * @param thisObject            listener函数作用域\r\n * @param priority\t\t\t\t\t事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n */\r\nFEvent.prototype.once = function once (obj, type, listener, thisObject, priority) {\n        if ( thisObject === void 0 ) thisObject = null;\n        if ( priority === void 0 ) priority = 0;\n\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    EventEmitter.getOrCreateEventEmitter(obj).once(type, listener, thisObject, priority);\r\n    return this;\r\n};\r\n/**\r\n * 派发事件\r\n *\r\n * 当事件重复流向一个对象时将不会被处理。\r\n *\r\n * @param e             事件对象。\r\n * @returns             返回事件是否被该对象处理。\r\n */\r\nFEvent.prototype.emitEvent = function emitEvent (obj, e) {\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    var result = EventEmitter.getOrCreateEventEmitter(obj).emitEvent(e) || false;\r\n    return result;\r\n};\r\n/**\r\n * 将事件调度到事件流中. 事件目标是对其调用 emitEvent() 方法的 IEvent 对象。\r\n * @param type                  事件的类型。类型区分大小写。\r\n * @param data                  事件携带的自定义数据。\r\n * @param bubbles               表示事件是否为冒泡事件。如果事件可以冒泡，则此值为 true；否则为 false。\r\n */\r\nFEvent.prototype.emit = function emit (obj, type, data, bubbles) {\n        if ( bubbles === void 0 ) bubbles = false;\n\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    var result = EventEmitter.getOrCreateEventEmitter(obj).emit(type, data, bubbles) || false;\r\n    return result;\r\n};\r\n/**\r\n * 检查 被监听对象 是否为特定事件类型注册了任何监听器.\r\n *\r\n * @param obj                   被监听对象。\r\n * @param type\t\t            事件的类型。\r\n * @return \t\t\t            如果指定类型的监听器已注册，则值为 true；否则，值为 false。\r\n */\r\nFEvent.prototype.has = function has (obj, type) {\r\n    var _a;\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    var result = ((_a = EventEmitter.getEventEmitter(obj)) === null || _a === void 0 ? void 0 : _a.has(type)) || false;\r\n    return result;\r\n};\r\n/**\r\n * 为监听对象新增指定类型的事件监听。\r\n *\r\n * @param obj                   被监听对象。\r\n * @param type\t\t\t\t\t\t事件的类型。\r\n * @param listener\t\t\t\t\t处理事件的监听器函数。\r\n * @param thisObject            监听器的上下文。可选。\r\n * @param priority\t\t\t\t\t事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n * @param once                  值为true时在监听一次事件后该监听器将被移除。默认为false。\r\n */\r\nFEvent.prototype.on = function on (obj, type, listener, thisObject, priority, once) {\n        if ( priority === void 0 ) priority = 0;\n        if ( once === void 0 ) once = false;\n\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    EventEmitter.getOrCreateEventEmitter(obj).on(type, listener, thisObject, priority, once);\r\n    return this;\r\n};\r\n/**\r\n * 移除监听\r\n *\r\n * @param obj                   被监听对象。\r\n * @param type\t\t\t\t\t\t事件的类型。可选。该值为空时所有被监听对象上的监听均将被移除。\r\n * @param listener\t\t\t\t\t要删除的监听器对象。可选。该值为空时所有指定类型的监听均将被移除。\r\n * @param thisObject            监听器的上下文。可选。\r\n */\r\nFEvent.prototype.off = function off (obj, type, listener, thisObject) {\r\n    var _a;\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    (_a = EventEmitter.getEventEmitter(obj)) === null || _a === void 0 ? void 0 : _a.off(type, listener, thisObject);\r\n    return this;\r\n};\r\n/**\r\n * Remove all listeners, or those of the specified event.\r\n */\r\nFEvent.prototype.offAll = function offAll (obj, type) {\r\n    var _a;\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    (_a = EventEmitter.getEventEmitter(obj)) === null || _a === void 0 ? void 0 : _a.offAll(type);\r\n    return this;\r\n};\r\n/**\r\n * 监听对象的任意事件，该对象的任意事件都将触发该监听器的调用。\r\n *\r\n * @param obj                   被监听对象。\r\n * @param listener              处理事件的监听器函数。\r\n * @param thisObject            监听器的上下文。可选。\r\n * @param priority              事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n * @param once                  值为true时在监听一次事件后该监听器将被移除。默认为false。\r\n */\r\nFEvent.prototype.onAny = function onAny (obj, listener, thisObject, priority, once) {\n        if ( priority === void 0 ) priority = 0;\n        if ( once === void 0 ) once = false;\n\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    EventEmitter.getOrCreateEventEmitter(obj).onAny(listener, thisObject, priority, once);\r\n    return this;\r\n};\r\n/**\r\n * 移除监听对象的任意事件。\r\n *\r\n * @param obj                   被监听对象。\r\n * @param listener              处理事件的监听器函数。\r\n * @param thisObject            监听器的上下文。可选。\r\n */\r\nFEvent.prototype.offAny = function offAny (obj, listener, thisObject) {\r\n    var _a;\r\n    console.assert(obj !== undefined && obj !== null, \"被监听对象无法为undefined或者null！\");\r\n    (_a = EventEmitter.getEventEmitter(obj)) === null || _a === void 0 ? void 0 : _a.offAny(listener, thisObject);\r\n    return this;\r\n};\r\n/**\r\n * 初始化事件对象\r\n *\r\n * @param type                  事件的类型。类型区分大小写。\r\n * @param data                  事件携带的自定义数据。\r\n * @param bubbles               表示事件是否为冒泡事件。如果事件可以冒泡，则此值为 true；否则为 false。\r\n */\r\nFEvent.prototype.makeEvent = function makeEvent (type, data, bubbles) {\n        if ( bubbles === void 0 ) bubbles = false;\n\r\n    return { type: type, data: data, bubbles: bubbles };\r\n};\r\n/**\r\n * 事件\r\n */\r\nvar event = new FEvent();\n\n/**\r\n * 全局事件\r\n */\r\nvar globalEmitter = new EventEmitter();\n\n/**\r\n * 只针对Object的事件\r\n */\r\nvar objectevent = event;\n\nexport { EventEmitter, FEvent, event, globalEmitter, objectevent };\n//# sourceMappingURL=index.js.map\n","/*!\n * @feng3d/polyfill - v0.3.3\n *\n * @feng3d/polyfill is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nif (!Array.prototype.includes) {\r\n    Object.defineProperty(Array.prototype, \"includes\", {\r\n        configurable: true,\r\n        enumerable: false,\r\n        value: function (searchElement, fromIndex) {\r\n            for (var i = fromIndex, n = this.length; i < n; i++) {\r\n                if (searchElement == this[i])\r\n                    { return true; }\r\n            }\r\n            return false;\r\n        },\r\n        writable: true,\r\n    });\r\n}\r\nArray.equal = function (self, arr) {\r\n    if (self.length != arr.length)\r\n        { return false; }\r\n    var keys = Object.keys(arr);\r\n    for (var i = 0, n = keys.length; i < n; i++) {\r\n        var key = keys[i];\r\n        if (self[key] != arr[key])\r\n            { return false; }\r\n    }\r\n    return true;\r\n};\r\nArray.concatToSelf = function (self) {\n    var items = [], len = arguments.length - 1;\n    while ( len-- > 0 ) items[ len ] = arguments[ len + 1 ];\n\r\n    var arr = [];\r\n    items.forEach(function (v) { return arr = arr.concat(v); });\r\n    arr.forEach(function (v) { return self.push(v); });\r\n    return self;\r\n};\r\nArray.unique = function (arr, compare) {\n    if ( compare === void 0 ) compare = function (a, b) { return a == b; };\n\r\n    var keys = Object.keys(arr);\r\n    var ids = keys.map(function (v) { return Number(v); }).filter(function (v) { return !isNaN(v); });\r\n    var deleteMap = {};\r\n    //\r\n    for (var i = 0, n = ids.length; i < n; i++) {\r\n        var ki = ids[i];\r\n        if (deleteMap[ki])\r\n            { continue; }\r\n        for (var j = i + 1; j < n; j++) {\r\n            var kj = ids[j];\r\n            if (compare(arr[ki], arr[kj]))\r\n                { deleteMap[kj] = true; }\r\n        }\r\n    }\r\n    //\r\n    for (var i$1 = ids.length - 1; i$1 >= 0; i$1--) {\r\n        var id = ids[i$1];\r\n        if (deleteMap[id])\r\n            { arr.splice(id, 1); }\r\n    }\r\n    return arr;\r\n};\r\n/**\r\n * 数组元素是否唯一\r\n * @param equalFn 比较函数\r\n */\r\nArray.isUnique = function (array, compare) {\n    if ( compare === void 0 ) compare = function (a, b) { return a == b; };\n\r\n    for (var i = array.length - 1; i >= 0; i--) {\r\n        for (var j = 0; j < i; j++) {\r\n            if (compare(array[i], array[j])) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n};\r\nArray.delete = function (arr, item) {\r\n    var index = arr.indexOf(item);\r\n    if (index != -1)\r\n        { arr.splice(index, 1); }\r\n    return index;\r\n};\r\nArray.replace = function (arr, a, b, isAdd) {\n    if ( isAdd === void 0 ) isAdd = true;\n\r\n    var isreplace = false;\r\n    for (var i = 0; i < arr.length; i++) {\r\n        if (arr[i] == a) {\r\n            arr[i] = b;\r\n            isreplace = true;\r\n            break;\r\n        }\r\n    }\r\n    if (!isreplace && isAdd)\r\n        { arr.push(b); }\r\n    return arr;\r\n};\r\nArray.create = function (length, itemFunc) {\r\n    var arr = [];\r\n    for (var i = 0; i < length; i++) {\r\n        arr[i] = itemFunc(i);\r\n    }\r\n    return arr;\r\n};\r\nArray.binarySearch = function (array, target, compare, start, end) {\r\n    var insert = Array.binarySearchInsert(array, target, compare, start, end);\r\n    if (array[insert] == target)\r\n        { return insert; }\r\n    return -1;\r\n};\r\nArray.binarySearchInsert = function (array, target, compare, start, end) {\r\n    if (start === undefined)\r\n        { start = 0; }\r\n    if (end === undefined)\r\n        { end = array.length; }\r\n    if (start == end)\r\n        { return start; }\r\n    if (compare(array[start], target) == 0) {\r\n        return start;\r\n    }\r\n    var middle = ~~((start + end) / 2);\r\n    if (compare(array[middle], target) < 0) {\r\n        start = middle + 1;\r\n    }\r\n    else {\r\n        end = middle;\r\n    }\r\n    return Array.binarySearchInsert(array, target, compare, start, end);\r\n};\n\nMap.getKeys = function (map) {\r\n    var keys = [];\r\n    map.forEach(function (v, k) {\r\n        keys.push(k);\r\n    });\r\n    return keys;\r\n};\r\nMap.getValues = function (map) {\r\n    var values = [];\r\n    map.forEach(function (v, k) {\r\n        values.push(v);\r\n    });\r\n    return values;\r\n};\n\nObject.isBaseType = function (object) {\r\n    //基础类型\r\n    if (object == undefined\r\n        || object == null\r\n        || typeof object == \"boolean\"\r\n        || typeof object == \"string\"\r\n        || typeof object == \"number\")\r\n        { return true; }\r\n    return false;\r\n};\r\nObject.getPropertyDescriptor = function (host, property) {\r\n    var data = Object.getOwnPropertyDescriptor(host, property);\r\n    if (data) {\r\n        return data;\r\n    }\r\n    var prototype = Object.getPrototypeOf(host);\r\n    if (prototype) {\r\n        return Object.getPropertyDescriptor(prototype, property);\r\n    }\r\n    return undefined;\r\n};\r\nObject.propertyIsWritable = function (host, property) {\r\n    var data = Object.getPropertyDescriptor(host, property);\r\n    if (!data)\r\n        { return false; }\r\n    if (data.get && !data.set)\r\n        { return false; }\r\n    return true;\r\n};\r\nObject.runFunc = function (obj, func) {\r\n    func(obj);\r\n    return obj;\r\n};\r\nObject.isObject = function (obj) {\r\n    return obj != null && (obj.constructor == Object || (obj.constructor.name == \"Object\")); // 兼容其他 HTMLIFrameElement 传入的Object\r\n};\r\nObject.getPropertyValue = function (object, property) {\r\n    if (typeof property == \"string\")\r\n        { property = property.split(\".\"); }\r\n    var value = object;\r\n    var len = property.length;\r\n    for (var i = 0; i < property.length; i++) {\r\n        if (value == null)\r\n            { return undefined; }\r\n        value = value[property[i]];\r\n    }\r\n    return value;\r\n};\r\nObject.getPropertyChains = function (object) {\r\n    var result = [];\r\n    // 属性名称列表\r\n    var propertys = Object.keys(object);\r\n    // 属性所属对象列表\r\n    var hosts = new Array(propertys.length).fill(object);\r\n    // 父属性所在编号列表\r\n    var parentPropertyIndices = new Array(propertys.length).fill(-1);\r\n    // 处理到的位置\r\n    var index = 0;\r\n    while (index < propertys.length) {\r\n        var host = hosts[index];\r\n        var cp = propertys[index];\r\n        var cv = host[cp];\r\n        var vks;\r\n        if (cv == null || Object.isBaseType(cv) || (vks = Object.keys(cv)).length == 0) {\r\n            // 处理叶子属性\r\n            var ps = [cp];\r\n            var ci = index;\r\n            // 查找并组合属性链\r\n            while ((ci = parentPropertyIndices[ci]) != -1) {\r\n                ps.push(propertys[ci]);\r\n            }\r\n            ps.reverse();\r\n            result.push(ps.join(\".\"));\r\n        }\r\n        else {\r\n            // 处理中间属性\r\n            vks.forEach(function (k) {\r\n                propertys.push(k);\r\n                hosts.push(cv);\r\n                parentPropertyIndices.push(index);\r\n            });\r\n        }\r\n        index++;\r\n    }\r\n    return result;\r\n};\r\nObject.equalDeep = function (a, b) {\r\n    if (a == b)\r\n        { return true; }\r\n    if (Object.isBaseType(a) || Object.isBaseType(b))\r\n        { return a == b; }\r\n    if (typeof a == \"function\" || typeof b == \"function\")\r\n        { return a == b; }\r\n    //\r\n    var akeys = Object.keys(a);\r\n    var bkeys = Object.keys(b);\r\n    if (!Array.equal(akeys, bkeys))\r\n        { return false; }\r\n    if (Array.isArray(a) && Array.isArray(b))\r\n        { return a.length == b.length; }\r\n    // 检测所有属性\r\n    for (var i = 0; i < akeys.length; i++) {\r\n        var element = akeys[i];\r\n        if (!Object.equalDeep(a[element], b[element])) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\nObject.assignShallow = function (target, source) {\r\n    if (source == null)\r\n        { return target; }\r\n    var keys = Object.keys(source);\r\n    keys.forEach(function (k) {\r\n        target[k] = source[k];\r\n    });\r\n    return target;\r\n};\r\nObject.assignDeep = function (target, source, replacers, deep) {\n    if ( replacers === void 0 ) replacers = [];\n    if ( deep === void 0 ) deep = Number.MAX_SAFE_INTEGER;\n\r\n    if (source == null)\r\n        { return target; }\r\n    if (deep < 1)\r\n        { return target; }\r\n    var keys = Object.keys(source);\r\n    var handles = replacers.concat(Object.assignDeepDefaultHandlers);\r\n    keys.forEach(function (k) {\r\n        //\r\n        for (var i = 0; i < handles.length; i++) {\r\n            if (handles[i](target, source, k, replacers, deep)) {\r\n                return;\r\n            }\r\n        }\r\n        //\r\n        target[k] = source[k];\r\n    });\r\n    return target;\r\n};\r\nObject.assignDeepDefaultHandlers = [\r\n    function (target, source, key) {\r\n        if (target[key] == source[key])\r\n            { return true; }\r\n        return false;\r\n    },\r\n    function (target, source, key) {\r\n        if (Object.isBaseType(target[key]) || Object.isBaseType(source[key])) {\r\n            target[key] = source[key];\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    function (target, source, key, handlers, deep) {\r\n        if (Array.isArray(source[key]) || Object.isObject(source[key])) {\r\n            Object.assignDeep(target[key], source[key], handlers, deep - 1);\r\n            return true;\r\n        }\r\n        return false;\r\n    } ];\n\nvar __class__ = \"__class__\";\r\n/**\r\n * 类工具\r\n */\r\nvar ClassUtils = function ClassUtils() {\r\n    this.classUtilsHandlers = [];\r\n    this.defaultInstMap = {};\r\n};\r\n/**\r\n * 返回对象的完全限定类名。\r\n * @param value 需要完全限定类名称的对象，可以将任何 JavaScript 值传递给此方法，包括所有可用的 JavaScript 类型、对象实例、原始类型\r\n * （如number)和类对象\r\n * @returns 包含完全限定类名称的字符串。\r\n */\r\nClassUtils.prototype.getQualifiedClassName = function getQualifiedClassName (value) {\r\n    if (value == null)\r\n        { return \"null\"; }\r\n    var classUtilsHandlers = classUtils.classUtilsHandlers;\r\n    if (classUtilsHandlers) {\r\n        classUtilsHandlers.forEach(function (element) {\r\n            element(value);\r\n        });\r\n    }\r\n    var prototype = value.prototype ? value.prototype : Object.getPrototypeOf(value);\r\n    if (prototype.hasOwnProperty(__class__))\r\n        { return prototype[__class__]; }\r\n    var className = prototype.constructor.name;\r\n    if (_global[className] == prototype.constructor)\r\n        { return className; }\r\n    //在可能的命名空间内查找\r\n    for (var i = 0; i < _classNameSpaces.length; i++) {\r\n        var tryClassName = _classNameSpaces[i] + \".\" + className;\r\n        if (this.getDefinitionByName(tryClassName) == prototype.constructor) {\r\n            className = tryClassName;\r\n            registerClass(prototype.constructor, className);\r\n            return className;\r\n        }\r\n    }\r\n    console.warn((\"未在给出的命名空间 \" + _classNameSpaces + \" 内找到 \" + value + \"-\" + className + \" 的定义\"));\r\n    return className;\r\n};\r\n/**\r\n * 返回 name 参数指定的类的类对象引用。\r\n * @param name 类的名称。\r\n */\r\nClassUtils.prototype.getDefinitionByName = function getDefinitionByName (name, readCache) {\n        if ( readCache === void 0 ) readCache = true;\n\r\n    if (name == \"null\")\r\n        { return null; }\r\n    if (!name)\r\n        { return null; }\r\n    if (_global[name])\r\n        { return _global[name]; }\r\n    if (readCache && _definitionCache[name])\r\n        { return _definitionCache[name]; }\r\n    var paths = name.split(\".\");\r\n    var length = paths.length;\r\n    var definition = _global;\r\n    for (var i = 0; i < length; i++) {\r\n        var path = paths[i];\r\n        definition = definition[path];\r\n        if (!definition) {\r\n            return null;\r\n        }\r\n    }\r\n    _definitionCache[name] = definition;\r\n    return definition;\r\n};\r\n/**\r\n * 获取默认实例\r\n *\r\n * @param name 类名称\r\n */\r\nClassUtils.prototype.getDefaultInstanceByName = function getDefaultInstanceByName (name) {\r\n    if (name === undefined) {\r\n        return null;\r\n    }\r\n    var defaultInst = this.defaultInstMap[name];\r\n    if (defaultInst)\r\n        { return defaultInst; }\r\n    //\r\n    defaultInst = this.defaultInstMap[name] = this.getInstanceByName(name);\r\n    // 冻结对象，防止被修改\r\n    Object.freeze(defaultInst);\r\n    return defaultInst;\r\n};\r\n/**\r\n * 获取实例\r\n *\r\n * @param name 类名称\r\n */\r\nClassUtils.prototype.getInstanceByName = function getInstanceByName (name) {\r\n    var cls = this.getDefinitionByName(name);\r\n    console.assert(cls, (\"无法获取名称为 \" + name + \" 的实例!\"));\r\n    var instance = this.getInstanceByDefinition(cls);\r\n    return instance;\r\n};\r\nClassUtils.prototype.getInstanceByDefinition = function getInstanceByDefinition (cls) {\r\n    console.assert(cls);\r\n    if (!cls)\r\n        { return undefined; }\r\n    if (cls[\"__create__\"]) {\r\n        return cls[\"__create__\"]();\r\n    }\r\n    return new cls();\r\n};\r\n/**\r\n * 新增反射对象所在的命名空间，使得getQualifiedClassName能够得到正确的结果\r\n */\r\nClassUtils.prototype.addClassNameSpace = function addClassNameSpace (namespace) {\r\n    if (_classNameSpaces.indexOf(namespace) == -1) {\r\n        _classNameSpaces.push(namespace);\r\n    }\r\n};\r\n/**\r\n * 类工具\r\n */\r\nvar classUtils = new ClassUtils();\r\nvar _definitionCache = {};\r\nvar _global;\r\nif (typeof window != \"undefined\") {\r\n    _global = window;\r\n}\r\nvar _classNameSpaces = [\"feng3d\"];\r\n/**\r\n * 为一个类定义注册完全限定类名\r\n * @param classDefinition 类定义\r\n * @param className 完全限定类名\r\n */\r\nfunction registerClass(classDefinition, className) {\r\n    var prototype = classDefinition.prototype;\r\n    Object.defineProperty(prototype, __class__, { value: className, writable: true, enumerable: false });\r\n}\n\n/**\r\n * 数据类型转换\r\n * TypeArray、ArrayBuffer、Blob、File、DataURL、canvas的相互转换\r\n * @see http://blog.csdn.net/yinwhm12/article/details/73482904\r\n */\r\nvar DataTransform = function DataTransform () {};\n\nDataTransform.prototype.blobToArrayBuffer = function blobToArrayBuffer (blob, callback) {\r\n    var reader = new FileReader();\r\n    reader.onload = function (e) {\r\n        callback(e.target[\"result\"]);\r\n    };\r\n    reader.readAsArrayBuffer(blob);\r\n};\r\n/**\r\n * ArrayBuffer to Blob\r\n */\r\nDataTransform.prototype.arrayBufferToBlob = function arrayBufferToBlob (arrayBuffer) {\r\n    var blob = new Blob([arrayBuffer]); // 注意必须包裹[]\r\n    return blob;\r\n};\r\n/**\r\n * ArrayBuffer to Uint8\r\n * Uint8数组可以直观的看到ArrayBuffer中每个字节（1字节 == 8位）的值。一般我们要将ArrayBuffer转成Uint类型数组后才能对其中的字节进行存取操作。\r\n */\r\nDataTransform.prototype.arrayBufferToUint8 = function arrayBufferToUint8 (arrayBuffer) {\r\n    var u8 = new Uint8Array(arrayBuffer);\r\n    return u8;\r\n};\r\n/**\r\n * Uint8 to ArrayBuffer\r\n * 我们Uint8数组可以直观的看到ArrayBuffer中每个字节（1字节 == 8位）的值。一般我们要将ArrayBuffer转成Uint类型数组后才能对其中的字节进行存取操作。\r\n */\r\nDataTransform.prototype.uint8ToArrayBuffer = function uint8ToArrayBuffer (uint8Array) {\r\n    var buffer = uint8Array.buffer;\r\n    return buffer;\r\n};\r\n/**\r\n * Array to ArrayBuffer\r\n * @param array 例如：[0x15, 0xFF, 0x01, 0x00, 0x34, 0xAB, 0x11];\r\n */\r\nDataTransform.prototype.arrayToArrayBuffer = function arrayToArrayBuffer (array) {\r\n    var uint8 = new Uint8Array(array);\r\n    var buffer = uint8.buffer;\r\n    return buffer;\r\n};\r\n/**\r\n * TypeArray to Array\r\n */\r\nDataTransform.prototype.uint8ArrayToArray = function uint8ArrayToArray (u8a) {\r\n    var arr = [];\r\n    for (var i = 0; i < u8a.length; i++) {\r\n        arr.push(u8a[i]);\r\n    }\r\n    return arr;\r\n};\r\n/**\r\n * canvas转换为dataURL\r\n */\r\nDataTransform.prototype.canvasToDataURL = function canvasToDataURL (canvas, type, quality) {\n        if ( type === void 0 ) type = \"png\";\n        if ( quality === void 0 ) quality = 1;\n\r\n    if (type == \"png\")\r\n        { return canvas.toDataURL(\"image/png\"); }\r\n    return canvas.toDataURL(\"image/jpeg\", quality);\r\n};\r\n/**\r\n * canvas转换为图片\r\n */\r\nDataTransform.prototype.canvasToImage = function canvasToImage (canvas, type, quality, callback) {\n        if ( type === void 0 ) type = \"png\";\n        if ( quality === void 0 ) quality = 1;\n\r\n    var dataURL = this.canvasToDataURL(canvas, type, quality);\r\n    this.dataURLToImage(dataURL, callback);\r\n};\r\n/**\r\n * File、Blob对象转换为dataURL\r\n * File对象也是一个Blob对象，二者的处理相同。\r\n */\r\nDataTransform.prototype.blobToDataURL = function blobToDataURL (blob, callback) {\r\n    var a = new FileReader();\r\n    a.onload = function (e) {\r\n        callback(e.target[\"result\"]);\r\n    };\r\n    a.readAsDataURL(blob);\r\n};\r\n/**\r\n * dataURL转换为Blob对象\r\n */\r\nDataTransform.prototype.dataURLtoBlob = function dataURLtoBlob (dataurl) {\r\n    var arr = dataurl.split(\",\"), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    var blob = new Blob([u8arr], { type: mime });\r\n    return blob;\r\n};\r\n/**\r\n * dataURL图片数据转换为HTMLImageElement\r\n * dataURL图片数据绘制到canvas\r\n * 先构造Image对象，src为dataURL，图片onload之后绘制到canvas\r\n */\r\nDataTransform.prototype.dataURLDrawCanvas = function dataURLDrawCanvas (dataurl, canvas, callback) {\r\n    this.dataURLToImage(dataurl, function (img) {\r\n        // canvas.drawImage(img);\r\n        callback(img);\r\n    });\r\n};\r\nDataTransform.prototype.dataURLToArrayBuffer = function dataURLToArrayBuffer (dataurl, callback) {\r\n    var blob = this.dataURLtoBlob(dataurl);\r\n    this.blobToArrayBuffer(blob, callback);\r\n};\r\nDataTransform.prototype.arrayBufferToDataURL = function arrayBufferToDataURL (arrayBuffer, callback) {\r\n    var blob = this.arrayBufferToBlob(arrayBuffer);\r\n    this.blobToDataURL(blob, callback);\r\n};\r\nDataTransform.prototype.dataURLToImage = function dataURLToImage (dataurl, callback) {\r\n    var img = new Image();\r\n    img.onload = function () {\r\n        callback(img);\r\n    };\r\n    img.src = dataurl;\r\n};\r\nDataTransform.prototype.imageToDataURL = function imageToDataURL (img, quality) {\n        if ( quality === void 0 ) quality = 1;\n\r\n    var canvas = this.imageToCanvas(img);\r\n    var dataurl = this.canvasToDataURL(canvas, \"png\", quality);\r\n    return dataurl;\r\n};\r\nDataTransform.prototype.imageToCanvas = function imageToCanvas (img) {\r\n    var canvas = document.createElement(\"canvas\");\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n    var ctxt = canvas.getContext('2d');\r\n    ctxt.drawImage(img, 0, 0);\r\n    return canvas;\r\n};\r\nDataTransform.prototype.imageToArrayBuffer = function imageToArrayBuffer (img, callback) {\r\n    if (img[\"arraybuffer\"]) {\r\n        callback(img[\"arraybuffer\"]);\r\n        return;\r\n    }\r\n    var dataUrl = this.imageToDataURL(img);\r\n    this.dataURLToArrayBuffer(dataUrl, function (arraybuffer) {\r\n        img[\"arraybuffer\"] = arraybuffer;\r\n        arraybuffer[\"img\"] = img;\r\n        callback(arraybuffer);\r\n    });\r\n};\r\nDataTransform.prototype.imageDataToDataURL = function imageDataToDataURL (imageData, quality) {\n        if ( quality === void 0 ) quality = 1;\n\r\n    var canvas = this.imageDataToCanvas(imageData);\r\n    var dataurl = this.canvasToDataURL(canvas, \"png\", quality);\r\n    return dataurl;\r\n};\r\nDataTransform.prototype.imageDataToCanvas = function imageDataToCanvas (imageData) {\r\n    var canvas = document.createElement(\"canvas\");\r\n    canvas.width = imageData.width;\r\n    canvas.height = imageData.height;\r\n    var ctxt = canvas.getContext('2d');\r\n    ctxt.putImageData(imageData, 0, 0);\r\n    return canvas;\r\n};\r\nDataTransform.prototype.imagedataToImage = function imagedataToImage (imageData, quality, callback) {\n        if ( quality === void 0 ) quality = 1;\n\r\n    var dataUrl = this.imageDataToDataURL(imageData, quality);\r\n    this.dataURLToImage(dataUrl, callback);\r\n};\r\nDataTransform.prototype.arrayBufferToImage = function arrayBufferToImage (arrayBuffer, callback) {\n        var this$1 = this;\n\r\n    if (arrayBuffer[\"image\"]) {\r\n        callback(arrayBuffer[\"image\"]);\r\n        return;\r\n    }\r\n    this.arrayBufferToDataURL(arrayBuffer, function (dataurl) {\r\n        this$1.dataURLToImage(dataurl, function (img) {\r\n            img[\"arraybuffer\"] = arrayBuffer;\r\n            arrayBuffer[\"image\"] = img;\r\n            callback(img);\r\n        });\r\n    });\r\n};\r\nDataTransform.prototype.blobToText = function blobToText (blob, callback) {\r\n    var a = new FileReader();\r\n    a.onload = function (e) { callback(e.target[\"result\"]); };\r\n    a.readAsText(blob);\r\n};\r\nDataTransform.prototype.stringToArrayBuffer = function stringToArrayBuffer (str) {\r\n    var uint8Array = this.stringToUint8Array(str);\r\n    var buffer = this.uint8ToArrayBuffer(uint8Array);\r\n    return buffer;\r\n};\r\nDataTransform.prototype.arrayBufferToString = function arrayBufferToString (arrayBuffer, callback) {\r\n    var blob = this.arrayBufferToBlob(arrayBuffer);\r\n    this.blobToText(blob, callback);\r\n};\r\n/**\r\n * ArrayBuffer 转换为 对象\r\n *\r\n * @param arrayBuffer\r\n * @param callback\r\n */\r\nDataTransform.prototype.arrayBufferToObject = function arrayBufferToObject (arrayBuffer, callback) {\r\n    this.arrayBufferToString(arrayBuffer, function (str) {\r\n        var obj = JSON.parse(str);\r\n        callback(obj);\r\n    });\r\n};\r\nDataTransform.prototype.stringToUint8Array = function stringToUint8Array (str) {\r\n    var utf8 = unescape(encodeURIComponent(str));\r\n    var uint8Array = new Uint8Array(utf8.split('').map(function (item) {\r\n        return item.charCodeAt(0);\r\n    }));\r\n    return uint8Array;\r\n};\r\nDataTransform.prototype.uint8ArrayToString = function uint8ArrayToString (arr, callback) {\r\n    // or [].slice.apply(arr)\r\n    // var utf8 = Array.from(arr).map(function (item)\r\n    var utf8 = [].slice.apply(arr).map(function (item) {\r\n        return String.fromCharCode(item);\r\n    }).join('');\r\n    var str = decodeURIComponent(escape(utf8));\r\n    callback(str);\r\n};\r\n/**\r\n * 数据类型转换\r\n * TypeArray、ArrayBuffer、Blob、File、DataURL、canvas的相互转换\r\n * @see http://blog.csdn.net/yinwhm12/article/details/73482904\r\n */\r\nvar dataTransform = new DataTransform();\n\nvar MathUtil = function MathUtil() {\r\n    /**\r\n     * 角度转弧度因子\r\n     */\r\n    this.DEG2RAD = Math.PI / 180;\r\n    /**\r\n     * 弧度转角度因子\r\n     */\r\n    this.RAD2DEG = 180 / Math.PI;\r\n    /**\r\n     * 默认精度\r\n     */\r\n    this.PRECISION = 1e-6;\r\n    /**\r\n     * 获取唯一标识符\r\n     * @see http://www.broofa.com/Tools/Math.uuid.htm\r\n     */\r\n    this.uuid = function uuid(length) {\n        if ( length === void 0 ) length = 36;\n\r\n        var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\r\n        var id = new Array(length);\r\n        var rnd = 0, r = 0;\r\n        return function generateUUID() {\r\n            for (var i = 0; i < length; i++) {\r\n                if (i === 8 || i === 13 || i === 18 || i === 23) {\r\n                    id[i] = '-';\r\n                }\r\n                else if (i === 14) {\r\n                    id[i] = '4';\r\n                }\r\n                else {\r\n                    if (rnd <= 0x02)\r\n                        { rnd = 0x2000000 + (Math.random() * 0x1000000) | 0; }\r\n                    r = rnd & 0xf;\r\n                    rnd = rnd >> 4;\r\n                    id[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r];\r\n                }\r\n            }\r\n            return id.join('');\r\n        };\r\n    }();\r\n};\r\n/**\r\n * （夹紧）计算指定值到区间[edge0 ,edge1]最近的值\r\n *\r\n * @param value 指定值\r\n * @param lowerlimit 区间下界\r\n * @param upperlimit 区间上界\r\n */\r\nMathUtil.prototype.clamp = function clamp (value, lowerlimit, upperlimit) {\r\n    if ((value - lowerlimit) * (value - upperlimit) <= 0)\r\n        { return value; }\r\n    if (value < lowerlimit)\r\n        { return lowerlimit < upperlimit ? lowerlimit : upperlimit; }\r\n    return lowerlimit > upperlimit ? lowerlimit : upperlimit;\r\n};\r\n/**\r\n * 计算欧几里得模（整数模） ((n % m) + m) % m\r\n *\r\n * @param n 被除数\r\n * @param m 除数\r\n * @see https://en.wikipedia.org/wiki/Modulo_operation\r\n */\r\nMathUtil.prototype.uclideanModulo = function uclideanModulo (n, m) {\r\n    return ((n % m) + m) % m;\r\n};\r\n/**\r\n * 使 x 值从区间 <a1, a2> 线性映射到区间 <b1, b2>\r\n *\r\n * @param x 第一个区间中值\r\n * @param a1 第一个区间起始值\r\n * @param a2 第一个区间终止值\r\n * @param b1 第二个区间起始值\r\n * @param b2 第二个区间起始值\r\n */\r\nMathUtil.prototype.mapLinear = function mapLinear (x, a1, a2, b1, b2) {\r\n    return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\r\n};\r\n/**\r\n * 线性插值\r\n *\r\n * @param start 起始值\r\n * @param end 终止值\r\n * @param t 插值系数 [0 ,1]\r\n *\r\n * @see https://en.wikipedia.org/wiki/Linear_interpolation\r\n */\r\nMathUtil.prototype.lerp = function lerp (start, end, t) {\r\n    return (1 - t) * start + t * end;\r\n};\r\n/**\r\n * 计算平滑值 3x^2 - 2x^3\r\n *\r\n * @param x\r\n * @param min 最小值\r\n * @param max 最大值\r\n *\r\n * @see http://en.wikipedia.org/wiki/Smoothstep\r\n */\r\nMathUtil.prototype.smoothstep = function smoothstep (x, min, max) {\r\n    if (x <= min)\r\n        { return 0; }\r\n    if (x >= max)\r\n        { return 1; }\r\n    x = (x - min) / (max - min);\r\n    return x * x * (3 - 2 * x);\r\n};\r\n/**\r\n * 计算平滑值 6x^5 - 15x^4 + 10x^3\r\n *\r\n * @param x\r\n * @param min 最小值\r\n * @param max 最大值\r\n */\r\nMathUtil.prototype.smootherstep = function smootherstep (x, min, max) {\r\n    if (x <= min)\r\n        { return 0; }\r\n    if (x >= max)\r\n        { return 1; }\r\n    x = (x - min) / (max - min);\r\n    return x * x * x * (x * (x * 6 - 15) + 10);\r\n};\r\n/**\r\n * 从<low, high>获取随机整数\r\n *\r\n * @param low 区间起始值\r\n * @param high 区间终止值\r\n */\r\nMathUtil.prototype.randInt = function randInt (low, high) {\r\n    return low + Math.floor(Math.random() * (high - low + 1));\r\n};\r\n/**\r\n * 从<low, high>获取随机浮点数\r\n *\r\n * @param low 区间起始值\r\n * @param high 区间终止值\r\n */\r\nMathUtil.prototype.randFloat = function randFloat (low, high) {\r\n    return low + Math.random() * (high - low);\r\n};\r\n/**\r\n * 从<-range/2, range/2>获取随机浮点数\r\n *\r\n * @param range 范围\r\n */\r\nMathUtil.prototype.randFloatSpread = function randFloatSpread (range) {\r\n    return range * (0.5 - Math.random());\r\n};\r\n/**\r\n * 角度转换为弧度\r\n *\r\n * @param degrees 角度\r\n */\r\nMathUtil.prototype.degToRad = function degToRad (degrees) {\r\n    return degrees * this.DEG2RAD;\r\n};\r\n/**\r\n * 弧度转换为角度\r\n *\r\n * @param radians 弧度\r\n */\r\nMathUtil.prototype.radToDeg = function radToDeg (radians) {\r\n    return radians * this.RAD2DEG;\r\n};\r\n/**\r\n * 判断指定整数是否为2的幂\r\n *\r\n * @param value 整数\r\n */\r\nMathUtil.prototype.isPowerOfTwo = function isPowerOfTwo (value) {\r\n    return (value & (value - 1)) === 0 && value !== 0;\r\n};\r\n/**\r\n * 获取离指定整数最近的2的幂\r\n *\r\n * @param value 整数\r\n */\r\nMathUtil.prototype.nearestPowerOfTwo = function nearestPowerOfTwo (value) {\r\n    return Math.pow(2, Math.round(Math.log(value) / Math.LN2));\r\n};\r\n/**\r\n * 获取指定大于等于整数最小2的幂，3->4,5->8,17->32,33->64\r\n *\r\n * @param value 整数\r\n */\r\nMathUtil.prototype.nextPowerOfTwo = function nextPowerOfTwo (value) {\r\n    value--;\r\n    value |= value >> 1;\r\n    value |= value >> 2;\r\n    value |= value >> 4;\r\n    value |= value >> 8;\r\n    value |= value >> 16;\r\n    value++;\r\n    return value;\r\n};\r\n/**\r\n * 获取目标最近的值\r\n *\r\n * source增加或者减少整数倍precision后得到离target最近的值\r\n *\r\n * ```\r\n * Math.toRound(71,0,5);//运算结果为1\r\n * ```\r\n *\r\n * @param source 初始值\r\n * @param target 目标值\r\n * @param precision 精度\r\n */\r\nMathUtil.prototype.toRound = function toRound (source, target, precision) {\n        if ( precision === void 0 ) precision = 360;\n\r\n    return source + Math.round((target - source) / precision) * precision;\r\n};\r\n/**\r\n * 比较两个Number是否相等\r\n *\r\n * @param a 数字a\r\n * @param b 数字b\r\n * @param precision 进度\r\n */\r\nMathUtil.prototype.equals = function equals (a, b, precision) {\r\n    if (precision == undefined)\r\n        { precision = this.PRECISION; }\r\n    return Math.abs(a - b) < precision;\r\n};\r\n/**\r\n * 计算最大公约数\r\n *\r\n * @param a 整数a\r\n * @param b 整数b\r\n *\r\n * @see https://en.wikipedia.org/wiki/Greatest_common_divisor\r\n */\r\nMathUtil.prototype.gcd = function gcd (a, b) {\r\n    if (b)\r\n        { while ((a %= b) && (b %= a))\r\n            { } }\r\n    return a + b;\r\n};\r\n/**\r\n * 计算最小公倍数\r\n * Least common multiple\r\n *\r\n * @param a 整数a\r\n * @param b 整数b\r\n *\r\n * @see https://en.wikipedia.org/wiki/Least_common_multiple\r\n */\r\nMathUtil.prototype.lcm = function lcm (a, b) {\r\n    return a * b / this.gcd(a, b);\r\n};\r\nvar mathUtil = new MathUtil();\n\nvar lazy = {\r\n    getvalue: function (lazyItem) {\r\n        if (typeof lazyItem == \"function\")\r\n            { return lazyItem(); }\r\n        return lazyItem;\r\n    }\r\n};\n\nexport { ClassUtils, DataTransform, MathUtil, __class__, classUtils, dataTransform, lazy, mathUtil };\n//# sourceMappingURL=index.js.map\n","import { globalEmitter } from \"@feng3d/event\";\r\nimport { dataTransform } from \"@feng3d/polyfill\";\r\nimport { _indexedDB } from \"./base/_IndexedDB\";\r\nimport { FSType } from \"./FSType\";\r\nimport { IReadWriteFS } from \"./IReadWriteFS\";\r\n\r\n/**\r\n * 用于是否为文件夹\r\n */\r\nconst directorytoken = \"!!!___directory___!!!\";\r\n\r\n/**\r\n * 索引数据文件系统\r\n */\r\nexport class IndexedDBFS implements IReadWriteFS\r\n{\r\n    get type()\r\n    {\r\n        return FSType.indexedDB;\r\n    }\r\n\r\n    /**\r\n     * 数据库名称\r\n     */\r\n    DBname: string;\r\n\r\n    /**\r\n     * 项目名称（表单名称）\r\n     */\r\n    projectname: string;\r\n\r\n    constructor(DBname = \"feng3d-editor\", projectname = \"testproject\")\r\n    {\r\n        this.DBname = DBname;\r\n        this.projectname = projectname;\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readArrayBuffer(path: string, callback: (err: Error, data: ArrayBuffer) => void)\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, path, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err, data);\r\n                return;\r\n            }\r\n            if (data instanceof ArrayBuffer)\r\n            {\r\n                callback(null, data);\r\n            } else if (data instanceof Object)\r\n            {\r\n                var str = JSON.stringify(data, null, '\\t').replace(/[\\n\\t]+([\\d\\.e\\-\\[\\]]+)/g, '$1')\r\n                var arraybuffer = dataTransform.stringToArrayBuffer(str);\r\n                callback(null, arraybuffer);\r\n            } else\r\n            {\r\n                var arraybuffer = dataTransform.stringToArrayBuffer(data);\r\n                callback(null, arraybuffer);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readString(path: string, callback: (err: Error, data: string) => void)\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, path, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err, data);\r\n                return;\r\n            }\r\n            if (data instanceof ArrayBuffer)\r\n            {\r\n                dataTransform.arrayBufferToString(data, (str) =>\r\n                {\r\n                    callback(null, str);\r\n                });\r\n            } else if (data instanceof Object)\r\n            {\r\n                var str = JSON.stringify(data, null, '\\t').replace(/[\\n\\t]+([\\d\\.e\\-\\[\\]]+)/g, '$1')\r\n                callback(null, str);\r\n            } else\r\n            {\r\n                callback(null, data);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readObject(path: string, callback: (err: Error, data: object) => void)\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, path, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err, data);\r\n                return;\r\n            }\r\n            if (data instanceof ArrayBuffer)\r\n            {\r\n                dataTransform.arrayBufferToString(data, (str) =>\r\n                {\r\n                    var obj = JSON.parse(str);\r\n                    callback(null, obj);\r\n                });\r\n            } else if (data instanceof Object)\r\n            {\r\n                callback(null, data);\r\n            } else\r\n            {\r\n                console.assert(typeof data == \"string\");\r\n                var obj = JSON.parse(data);\r\n                callback(null, obj);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 加载图片\r\n     * @param path 图片路径\r\n     * @param callback 加载完成回调\r\n     */\r\n    readImage(path: string, callback: (err: Error, img: HTMLImageElement) => void)\r\n    {\r\n        this.readArrayBuffer(path, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err, null);\r\n                return;\r\n            }\r\n            dataTransform.arrayBufferToImage(data, (img) =>\r\n            {\r\n                callback(null, img);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取文件绝对路径\r\n     * @param path （相对）路径\r\n     * @param callback 回调函数\r\n     */\r\n    getAbsolutePath(path: string)\r\n    {\r\n        return path;\r\n    }\r\n\r\n    /**\r\n     * 是否为文件夹\r\n     *\r\n     * @param path 文件路径\r\n     * @param callback 完成回调\r\n     */\r\n    isDirectory(path: string, callback: (result: boolean) => void)\r\n    {\r\n        this.readString(path, (err, data) =>\r\n        {\r\n            callback(data == directorytoken);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 文件是否存在\r\n     * @param path 文件路径\r\n     * @param callback 回调函数\r\n     */\r\n    exists(path: string, callback: (exists: boolean) => void): void\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, path, (err, data) =>\r\n        {\r\n            callback(!!data);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取文件夹中文件列表\r\n     * @param path 路径\r\n     * @param callback 回调函数\r\n     */\r\n    readdir(path: string, callback: (err: Error, files: string[]) => void): void\r\n    {\r\n        _indexedDB.getAllKeys(this.DBname, this.projectname, (err, allfilepaths) =>\r\n        {\r\n            if (!allfilepaths)\r\n            {\r\n                callback(err, null);\r\n                return;\r\n            }\r\n            var subfilemap = {};\r\n            allfilepaths.forEach(element =>\r\n            {\r\n                var dirp = path == \"\" ? path : (path + \"/\");\r\n                if (element.substr(0, dirp.length) == dirp && element != path)\r\n                {\r\n                    var result = element.substr(dirp.length);\r\n                    var subfile = result.split(\"/\").shift();\r\n                    subfilemap[subfile] = 1;\r\n                }\r\n            });\r\n            var files = Object.keys(subfilemap);\r\n            callback(null, files);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 新建文件夹\r\n     * @param path 文件夹路径\r\n     * @param callback 回调函数\r\n     */\r\n    mkdir(path: string, callback?: (err: Error) => void): void\r\n    {\r\n        this.exists(path, (exists) =>\r\n        {\r\n            if (exists)\r\n            {\r\n                callback(new Error(`文件夹${path}已存在无法新建`));\r\n                return;\r\n            }\r\n            _indexedDB.objectStorePut(this.DBname, this.projectname, path, directorytoken, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 删除文件\r\n     * @param path 文件路径\r\n     * @param callback 回调函数\r\n     */\r\n    deleteFile(path: string, callback: (err: Error) => void)\r\n    {\r\n        // 删除文件\r\n        _indexedDB.objectStoreDelete(this.DBname, this.projectname, path, callback);\r\n        globalEmitter.emit(\"fs.delete\", path);\r\n    }\r\n\r\n    /**\r\n     * 写文件\r\n     * @param path 文件路径\r\n     * @param data 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeArrayBuffer(path: string, data: ArrayBuffer, callback?: (err: Error) => void)\r\n    {\r\n        _indexedDB.objectStorePut(this.DBname, this.projectname, path, data, callback);\r\n        globalEmitter.emit(\"fs.write\", path);\r\n    }\r\n\r\n    /**\r\n     * 写文件\r\n     * @param path 文件路径\r\n     * @param data 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeString(path: string, data: string, callback?: (err: Error) => void)\r\n    {\r\n        _indexedDB.objectStorePut(this.DBname, this.projectname, path, data, callback);\r\n        globalEmitter.emit(\"fs.write\", path);\r\n    }\r\n\r\n    /**\r\n     * 写文件\r\n     * @param path 文件路径\r\n     * @param object 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeObject(path: string, object: Object, callback?: (err: Error) => void)\r\n    {\r\n        _indexedDB.objectStorePut(this.DBname, this.projectname, path, object, callback);\r\n        globalEmitter.emit(\"fs.write\", path);\r\n    }\r\n\r\n    /**\r\n     * 写图片\r\n     * @param path 图片路径\r\n     * @param image 图片\r\n     * @param callback 回调函数\r\n     */\r\n    writeImage(path: string, image: HTMLImageElement, callback?: (err: Error) => void)\r\n    {\r\n        dataTransform.imageToArrayBuffer(image, (arraybuffer) =>\r\n        {\r\n            this.writeArrayBuffer(path, arraybuffer, callback);\r\n            globalEmitter.emit(\"fs.write\", path);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 复制文件\r\n     * @param src    源路径\r\n     * @param dest    目标路径\r\n     * @param callback 回调函数\r\n     */\r\n    copyFile(src: string, dest: string, callback?: (err: Error) => void)\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, src, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err);\r\n                return;\r\n            }\r\n            _indexedDB.objectStorePut(this.DBname, this.projectname, dest, data, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 是否存在指定项目\r\n     * @param projectname 项目名称\r\n     * @param callback 回调函数\r\n     */\r\n    hasProject(projectname: string, callback: (has: boolean) => void)\r\n    {\r\n        _indexedDB.getObjectStoreNames(this.DBname, (err, objectStoreNames) =>\r\n        {\r\n            if (err) { callback(false); return; }\r\n            callback(objectStoreNames.indexOf(projectname) != -1);\r\n        });\r\n    }\r\n    /**\r\n     * 初始化项目\r\n     * @param projectname 项目名称\r\n     * @param callback 回调函数\r\n     */\r\n    initproject(projectname: string, callback: (err: Error) => void)\r\n    {\r\n        this.projectname = projectname;\r\n        _indexedDB.createObjectStore(this.DBname, projectname, callback);\r\n    }\r\n}\r\n\r\n/**\r\n * 索引数据文件系统\r\n */\r\nexport const indexedDBFS = new IndexedDBFS();\r\n","\r\n/**\r\n * 路径工具\r\n */\r\nexport class PathUtils\r\n{\r\n    /**\r\n     * 标准化文件夹路径\r\n     * @param path \r\n     */\r\n    normalizeDir(path: string): string\r\n    {\r\n        if (path[path.length - 1] == \"/\")\r\n            path = path.substr(0, path.length - 1);\r\n        return path;\r\n    }\r\n    /**\r\n     * 是否为HTTP地址\r\n     * \r\n     * @param path 地址\r\n     */\r\n    isHttpURL(path: string): any\r\n    {\r\n        if (path.indexOf(\"http://\") != -1 || path.indexOf(\"https://\") != -1 || path.indexOf(\"file:///\") != -1)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 获取不带后缀名称\r\n     * @param path 路径\r\n     */\r\n    getName(path: string)\r\n    {\r\n        console.assert(path != undefined);\r\n        var name = this.basename(path);\r\n        if (this.isDirectory(path))\r\n            return name;\r\n        name = name.split(\".\").shift();\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * 获取带后缀名称\r\n     * @param path 路径\r\n     */\r\n    basename(path: string)\r\n    {\r\n        console.assert(path != undefined);\r\n        var paths = path.split(\"/\");\r\n        var name = paths.pop();\r\n        if (name == \"\")\r\n            name = paths.pop();\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * 获取后缀\r\n     * @param path 路径\r\n     */\r\n    extname(path: string)\r\n    {\r\n        console.assert(path != undefined);\r\n        var name = this.basename(path);\r\n        var index = name.indexOf(\".\");\r\n        if (index == -1) return \"\";\r\n        return name.substr(index);\r\n    }\r\n\r\n    /**\r\n     * 父路径\r\n     * @param path 路径\r\n     */\r\n    dirname(path: string)\r\n    {\r\n        console.assert(path != undefined);\r\n        var paths = path.split(\"/\");\r\n        if (this.isDirectory(path))\r\n            paths.pop();\r\n        paths.pop();\r\n        return paths.join(\"/\");\r\n    }\r\n\r\n    /**\r\n     * 获取子文件（非文件夹）路径\r\n     * \r\n     * @param parentPath 父文件夹路径\r\n     * @param childName 子文件名称\r\n     */\r\n    getChildFilePath(parentPath: string, childName: string)\r\n    {\r\n        console.assert(parentPath != undefined);\r\n        console.assert(childName != undefined);\r\n\r\n        if (parentPath.charAt(parentPath.length - 1) != \"/\") parentPath += \"/\";\r\n        return parentPath + childName;\r\n    }\r\n\r\n    /**\r\n     * 获取子文件夹路径\r\n     * \r\n     * @param parentPath 父文件夹路径\r\n     * @param childFolderName 子文件夹名称\r\n     */\r\n    getChildFolderPath(parentPath: string, childFolderName: string)\r\n    {\r\n        if (parentPath.charAt(parentPath.length - 1) != \"/\") parentPath += \"/\";\r\n        if (childFolderName.charAt(childFolderName.length - 1) != \"/\") childFolderName += \"/\";\r\n\r\n        return parentPath + childFolderName;\r\n    }\r\n\r\n    /**\r\n     * 是否文件夹\r\n     * @param path 路径\r\n     */\r\n    isDirectory(path: string)\r\n    {\r\n        return path.split(\"/\").pop() == \"\";\r\n    }\r\n\r\n    /**\r\n     * 获取目录深度\r\n     * @param path 路径\r\n     */\r\n    getDirDepth(path: string)\r\n    {\r\n        var length = path.split(\"/\").length;\r\n        if (this.isDirectory(path))\r\n            length--;\r\n        return length - 1;\r\n    }\r\n}\r\n\r\n/**\r\n * 路径工具\r\n */\r\nexport const pathUtils = new PathUtils();\r\n","/*!\n * @feng3d/task - v0.3.3\n *\n * @feng3d/task is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/**\r\n * 任务\r\n *\r\n * 处理 异步任务(函数)串联并联执行功能\r\n */\r\nvar Task = function Task () {};\n\nTask.prototype.parallel = function parallel (fns) {\r\n    var result = function (callback) {\r\n        if (fns.length == 0) {\r\n            callback();\r\n            return;\r\n        }\r\n        var index = 0;\r\n        fns.forEach(function (fn) {\r\n            var callbackNum = 0;\r\n            fn(function () {\r\n                callbackNum++;\r\n                if (callbackNum == 1) {\r\n                    index++;\r\n                    if (index == fns.length) {\r\n                        callback();\r\n                    }\r\n                }\r\n                else {\r\n                    console.warn(((fn.name ? \"函数\" + fn.name : \"匿名函数\") + \" 多次调用回调函数，当前次数 \" + callbackNum));\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return result;\r\n};\r\n/**\r\n * 串联多个异步函数为一个函数\r\n *\r\n * 这些异步函数按顺序依次执行，等待前一个异步函数执行完调用回调后才执行下一个异步函数。\r\n *\r\n * @param fns 一组异步函数\r\n */\r\nTask.prototype.series = function series (fns) {\r\n    var result = function (callback) {\r\n        if (fns.length == 0) {\r\n            callback();\r\n            return;\r\n        }\r\n        var index = 0;\r\n        var next = function () {\r\n            var fn = fns[index];\r\n            var callbackNum = 0;\r\n            fn(function () {\r\n                callbackNum++;\r\n                if (callbackNum == 1) {\r\n                    index++;\r\n                    if (index < fns.length) {\r\n                        next();\r\n                    }\r\n                    else {\r\n                        callback && callback();\r\n                    }\r\n                }\r\n                else {\r\n                    console.warn(((fn.name ? \"函数\" + fn.name : \"匿名函数\") + \" 多次调用回调函数，当前次数 \" + callbackNum));\r\n                }\r\n            });\r\n        };\r\n        next();\r\n    };\r\n    return result;\r\n};\r\n/**\r\n * 创建一组并行同类任务，例如同时加载一组资源，并在回调中返回结果数组\r\n *\r\n * @param ps 一组参数\r\n * @param fn 单一任务函数\r\n * @param done 完成回调\r\n */\r\nTask.prototype.parallelResults = function parallelResults (ps, fn, done) {\r\n    var map = new Map();\r\n    // 包装函数\r\n    var fns = ps.map(function (p) { return function (callback) {\r\n        fn(p, function (r) {\r\n            map.set(p, r);\r\n            callback();\r\n        });\r\n    }; });\r\n    this.parallel(fns)(function () {\r\n        var results = ps.map(function (p) {\r\n            return map.get(p);\r\n        });\r\n        map.clear();\r\n        done(results);\r\n    });\r\n};\r\n/**\r\n * 创建一组串联同类任务，例如排序加载一组资源\r\n *\r\n * @param ps 一组参数\r\n * @param fn 单一任务函数\r\n * @param done 完成回调\r\n */\r\nTask.prototype.seriesResults = function seriesResults (ps, fn, done) {\r\n    var map = new Map();\r\n    // 包装函数\r\n    var fns = ps.map(function (p) { return function (callback) {\r\n        fn(p, function (r) {\r\n            map.set(p, r);\r\n            callback();\r\n        });\r\n    }; });\r\n    this.series(fns)(function () {\r\n        var results = ps.map(function (p) {\r\n            return map.get(p);\r\n        });\r\n        map.clear();\r\n        done(results);\r\n    });\r\n};\r\n/**\r\n * 任务，用于处理任务之间依赖\r\n */\r\nvar task = new Task();\n\nexport { task };\n//# sourceMappingURL=index.js.map\n","import { task } from \"@feng3d/task\";\r\nimport { FSType } from \"./FSType\";\r\nimport { basefs } from \"./HttpFS\";\r\nimport { IReadFS } from \"./IReadFS\";\r\n\r\n/**\r\n * 可读文件系统\r\n */\r\nexport class ReadFS\r\n{\r\n    /**\r\n     * 基础文件系统\r\n     */\r\n    get fs() { return this._fs || basefs; }\r\n    set fs(v) { this._fs = v; }\r\n    protected _fs: IReadFS;\r\n\r\n    /**\r\n     * 文件系统类型\r\n     */\r\n    get type(): FSType\r\n    {\r\n        return this.fs.type;\r\n    }\r\n\r\n    constructor(fs?: IReadFS)\r\n    {\r\n        this.fs = fs;\r\n    }\r\n\r\n    /**\r\n     * 读取文件为ArrayBuffer\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readArrayBuffer(path: string, callback: (err: Error, arraybuffer: ArrayBuffer) => void)\r\n    {\r\n        this.fs.readArrayBuffer(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件为字符串\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readString(path: string, callback: (err: Error, str: string) => void)\r\n    {\r\n        this.fs.readString(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件为Object\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readObject(path: string, callback: (err: Error, object: Object) => void)\r\n    {\r\n        this.fs.readObject(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 加载图片\r\n     * @param path 图片路径\r\n     * @param callback 加载完成回调\r\n     */\r\n    readImage(path: string, callback: (err: Error, img: HTMLImageElement) => void)\r\n    {\r\n        this.fs.readImage(path, callback);\r\n\r\n        // functionwrap.wrapF(this.fs, this.fs.readImage, [path], callback);\r\n    }\r\n\r\n    /**\r\n     * 获取文件绝对路径\r\n     * @param path （相对）路径\r\n     */\r\n    getAbsolutePath(path: string)\r\n    {\r\n        return this.fs.getAbsolutePath(path);\r\n    }\r\n\r\n    /**\r\n     * 读取文件列表为字符串列表\r\n     * \r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readStrings(paths: string[], callback: (strs: (string | Error)[]) => void)\r\n    {\r\n        task.parallelResults(paths, (path, callback) =>\r\n        {\r\n            this.readString(path, (err, str) =>\r\n            {\r\n                callback(err || str);\r\n            });\r\n        }, callback);\r\n    }\r\n\r\n    protected _images: { [path: string]: HTMLImageElement } = {};\r\n\r\n    private _state: { [eventtype: string]: true } = {};\r\n}\r\n\r\n/**\r\n * 默认文件系统\r\n */\r\nexport const fs = new ReadFS();\r\n","import { dataTransform } from \"@feng3d/polyfill\";\r\nimport { IReadWriteFS } from \"./IReadWriteFS\";\r\nimport { pathUtils } from \"./PathUtils\";\r\nimport { ReadFS } from \"./ReadFS\";\r\n\r\n/**\r\n * 可读写文件系统\r\n * \r\n * 扩展基础可读写文件系统\r\n */\r\nexport class ReadWriteFS extends ReadFS\r\n{\r\n    /**\r\n     * 项目名称（表单名称）\r\n     */\r\n    projectname: string;\r\n\r\n    get fs(): IReadWriteFS\r\n    {\r\n        return <any>this._fs;\r\n    }\r\n    set fs(value: IReadWriteFS)\r\n    {\r\n        this._fs = value;\r\n    }\r\n\r\n    constructor(fs?: IReadWriteFS)\r\n    {\r\n        super(fs);\r\n    }\r\n\r\n    /**\r\n     * 文件是否存在\r\n     * @param path 文件路径\r\n     * @param callback 回调函数\r\n     */\r\n    exists(path: string, callback: (exists: boolean) => void)\r\n    {\r\n        this.fs.exists(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件夹中文件列表\r\n     * @param path 路径\r\n     * @param callback 回调函数\r\n     */\r\n    readdir(path: string, callback: (err: Error, files: string[]) => void)\r\n    {\r\n        this.fs.readdir(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 新建文件夹\r\n     * @param path 文件夹路径\r\n     * @param callback 回调函数\r\n     */\r\n    mkdir(path: string, callback?: (err: Error) => void)\r\n    {\r\n        path = pathUtils.normalizeDir(path);\r\n\r\n        this.fs.exists(path, (exists) =>\r\n        {\r\n            if (exists)\r\n            {\r\n                callback && callback(null);\r\n                return;\r\n            }\r\n            this.fs.mkdir(path, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 删除文件\r\n     * @param path 文件路径\r\n     * @param callback 回调函数\r\n     */\r\n    deleteFile(path: string, callback?: (err: Error) => void)\r\n    {\r\n        this.fs.deleteFile(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 写(新建)文件\r\n     * 自动根据文件类型保存为对应结构\r\n     * \r\n     * @param path 文件路径\r\n     * @param arraybuffer 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeFile(path: string, arraybuffer: ArrayBuffer, callback?: (err: Error) => void)\r\n    {\r\n        var ext = pathUtils.extname(path);\r\n        ext = ext.split(\".\").pop();\r\n        var fileTypedic = { \"meta\": \"txt\", \"json\": \"object\", \"jpg\": \"arraybuffer\", \"png\": \"arraybuffer\", \"mp3\": \"arraybuffer\", \"js\": \"txt\", \"ts\": \"txt\", \"map\": \"txt\", \"html\": \"txt\" };\r\n        var type = fileTypedic[ext];\r\n        if (path == \"tsconfig.json\" || path == \".vscode/settings.json\")\r\n            type = \"txt\";\r\n\r\n        if (type == \"txt\")\r\n        {\r\n            dataTransform.arrayBufferToString(arraybuffer, (str) =>\r\n            {\r\n                this.fs.writeString(path, str, (err) =>\r\n                {\r\n                    callback(err);\r\n                });\r\n            });\r\n        } else if (type == \"object\")\r\n        {\r\n            dataTransform.arrayBufferToObject(arraybuffer, (obj) =>\r\n            {\r\n                this.fs.writeObject(path, obj, (err) =>\r\n                {\r\n                    callback(err);\r\n                });\r\n            });\r\n        } else if (type == \"arraybuffer\")\r\n        {\r\n            this.writeArrayBuffer(path, arraybuffer, (err) =>\r\n            {\r\n                callback(err);\r\n            });\r\n        } else\r\n        {\r\n            console.error(`无法导入文件 ${path}`)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 写ArrayBuffer(新建)文件\r\n     * @param path 文件路径\r\n     * @param arraybuffer 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeArrayBuffer(path: string, arraybuffer: ArrayBuffer, callback?: (err: Error) => void)\r\n    {\r\n        // 如果所属文件夹不存在则新建\r\n        var dirpath = pathUtils.dirname(path);\r\n        this.mkdir(dirpath, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n                return;\r\n            }\r\n            this.fs.writeArrayBuffer(path, arraybuffer, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写字符串到(新建)文件\r\n     * @param path 文件路径\r\n     * @param str 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeString(path: string, str: string, callback?: (err: Error) => void)\r\n    {\r\n        // 如果所属文件夹不存在则新建\r\n        var dirpath = pathUtils.dirname(path);\r\n        this.mkdir(dirpath, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n                return;\r\n            }\r\n            this.fs.writeString(path, str, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写Object到(新建)文件\r\n     * @param path 文件路径\r\n     * @param object 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeObject(path: string, object: Object, callback?: (err: Error) => void)\r\n    {\r\n        // 如果所属文件夹不存在则新建\r\n        var dirpath = pathUtils.dirname(path);\r\n        this.mkdir(dirpath, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n                return;\r\n            }\r\n            this.fs.writeObject(path, object, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写图片\r\n     * @param path 图片路径\r\n     * @param image 图片\r\n     * @param callback 回调函数\r\n     */\r\n    writeImage(path: string, image: HTMLImageElement, callback?: (err: Error) => void)\r\n    {\r\n        // 如果所属文件夹不存在则新建\r\n        var dirpath = pathUtils.dirname(path);\r\n        this.mkdir(dirpath, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n                return;\r\n            }\r\n            this.fs.writeImage(path, image, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 复制文件\r\n     * @param src    源路径\r\n     * @param dest    目标路径\r\n     * @param callback 回调函数\r\n     */\r\n    copyFile(src: string, dest: string, callback?: (err: Error) => void)\r\n    {\r\n        this.fs.copyFile(src, dest, callback);\r\n    }\r\n\r\n    /**\r\n     * 是否为文件夹\r\n     *\r\n     * @param path 文件路径\r\n     * @param callback 完成回调\r\n     */\r\n    isDirectory(path: string, callback: (result: boolean) => void)\r\n    {\r\n        this.fs.isDirectory(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 初始化项目\r\n     * @param projectname 项目名称\r\n     * @param callback 回调函数\r\n     */\r\n    initproject(projectname: string, callback: (err: Error) => void)\r\n    {\r\n        this.fs.initproject(projectname, callback);\r\n    }\r\n\r\n    /**\r\n     * 是否存在指定项目\r\n     * @param projectname 项目名称\r\n     * @param callback 回调函数\r\n     */\r\n    hasProject(projectname: string, callback: (has: boolean) => void)\r\n    {\r\n        this.fs.hasProject(projectname, callback);\r\n    }\r\n\r\n    /**\r\n     * 获取指定文件下所有文件路径列表\r\n     */\r\n    getAllPathsInFolder(dirpath = \"\", callback: (err: Error, filepaths: string[]) => void): void\r\n    {\r\n        var dirs = [dirpath];\r\n        var result = [];\r\n        var currentdir = \"\";\r\n\r\n        // 递归获取文件\r\n        var handle = () =>\r\n        {\r\n            if (dirs.length > 0)\r\n            {\r\n                currentdir = dirs.shift();\r\n                this.readdir(currentdir, (err, files) =>\r\n                {\r\n                    // 获取子文件路径\r\n                    var getChildPath = () =>\r\n                    {\r\n                        if (files.length == 0)\r\n                        {\r\n                            handle();\r\n                            return;\r\n                        }\r\n                        var childpath = currentdir + (currentdir == \"\" ? \"\" : \"/\") + files.shift();\r\n                        result.push(childpath);\r\n                        this.isDirectory(childpath, result =>\r\n                        {\r\n                            if (result) dirs.push(childpath);\r\n                            getChildPath();\r\n                        });\r\n                    };\r\n                    getChildPath();\r\n                });\r\n            } else\r\n            {\r\n                callback(null, result);\r\n            }\r\n        }\r\n        handle();\r\n    }\r\n\r\n    /**\r\n     * 移动文件\r\n     * @param src 源路径\r\n     * @param dest 目标路径\r\n     * @param callback 回调函数\r\n     */\r\n    moveFile(src: string, dest: string, callback?: (err: Error) => void)\r\n    {\r\n        this.copyFile(src, dest, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n                return;\r\n            }\r\n            this.deleteFile(src, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 重命名文件\r\n     * @param oldPath 老路径\r\n     * @param newPath 新路径\r\n     * @param callback 回调函数\r\n     */\r\n    renameFile(oldPath: string, newPath: string, callback?: (err: Error) => void): void\r\n    {\r\n        this.moveFile(oldPath, newPath, callback);\r\n    }\r\n\r\n    /**\r\n     * 移动一组文件\r\n     * @param movelists 移动列表\r\n     * @param callback 回调函数\r\n     */\r\n    moveFiles(movelists: [string, string][], callback?: (err: Error) => void)\r\n    {\r\n        this.copyFiles(movelists.concat(), (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n                return;\r\n            }\r\n            var deletelists = movelists.reduce((value: string[], current) => { value.push(current[0]); return value; }, [])\r\n            this.deleteFiles(deletelists, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 复制一组文件\r\n     * @param copylists 复制列表\r\n     * @param callback 回调函数\r\n     */\r\n    copyFiles(copylists: [string, string][], callback?: (err: Error) => void)\r\n    {\r\n        if (copylists.length > 0)\r\n        {\r\n            var copyitem: [string, string] = <any>copylists.shift();\r\n            this.copyFile(copyitem[0], copyitem[1], (err) =>\r\n            {\r\n                if (err)\r\n                {\r\n                    callback && callback(err);\r\n                    return;\r\n                }\r\n                this.copyFiles(copylists, callback);\r\n            });\r\n            return;\r\n        }\r\n        callback && callback(null);\r\n    }\r\n\r\n    /**\r\n     * 删除一组文件\r\n     * @param deletelists 删除列表\r\n     * @param callback 回调函数\r\n     */\r\n    deleteFiles(deletelists: string[], callback?: (err: Error) => void)\r\n    {\r\n        if (deletelists.length > 0)\r\n        {\r\n            this.deleteFile(<string>deletelists.shift(), (err) =>\r\n            {\r\n                if (err)\r\n                {\r\n                    callback && callback(err);\r\n                    return;\r\n                }\r\n                this.deleteFiles(deletelists, callback);\r\n            });\r\n            return;\r\n        }\r\n        callback && callback(null);\r\n    }\r\n\r\n    /**\r\n     * 重命名文件(夹)\r\n     * @param oldPath 老路径\r\n     * @param newPath 新路径\r\n     * @param callback 回调函数\r\n     */\r\n    rename(oldPath: string, newPath: string, callback?: (err: Error) => void): void\r\n    {\r\n        this.isDirectory(oldPath, result =>\r\n        {\r\n            if (result)\r\n            {\r\n                this.getAllPathsInFolder(oldPath, (err, filepaths) =>\r\n                {\r\n                    if (err)\r\n                    {\r\n                        callback && callback(err);\r\n                        return;\r\n                    }\r\n                    var renamelists: [string, string][] = [[oldPath, newPath]];\r\n                    filepaths.forEach(element =>\r\n                    {\r\n                        renamelists.push([element, element.replace(oldPath, newPath)]);\r\n                    });\r\n                    this.moveFiles(renamelists, callback);\r\n                });\r\n            } else\r\n            {\r\n                this.renameFile(oldPath, newPath, callback);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 移动文件(夹)\r\n     * \r\n     * @param src 源路径\r\n     * @param dest 目标路径\r\n     * @param callback 回调函数\r\n     */\r\n    move(src: string, dest: string, callback?: (err?: Error) => void): void\r\n    {\r\n        this.rename(src, dest, callback);\r\n    }\r\n\r\n    /**\r\n     * 删除文件(夹)\r\n     * @param path 路径\r\n     * @param callback 回调函数\r\n     */\r\n    delete(path: string, callback?: (err: Error) => void): void\r\n    {\r\n        this.isDirectory(path, result =>\r\n        {\r\n            if (result)\r\n            {\r\n                this.getAllPathsInFolder(path, (err, filepaths) =>\r\n                {\r\n                    if (err)\r\n                    {\r\n                        callback && callback(err);\r\n                        return;\r\n                    }\r\n                    var removelists: string[] = filepaths.concat(path);\r\n                    this.deleteFiles(removelists, callback);\r\n                });\r\n            } else\r\n            {\r\n                this.deleteFile(path, callback);\r\n            }\r\n        });\r\n    }\r\n}\r\n"],"names":["LoaderDataFormat","this","let","FSType","const","arguments","prototypeAccessors","super"],"mappings":"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"}